<link rel="stylesheet" href="./application/modules/template/templates.css">
<div class="container col-lg-12 p-0" data-ng-controller="TemplateController as templateCtrl">
    <div class="rc-module-header d-flex">
        <div class="col-xs-12 p-0 d-flex" style="justify-content: space-between;">
            <div class="d-flex" style="padding: 0px 10px;box-shadow: 3px 0px 4px -1px #f7f7f7;">
                <div class="p-relative">
                    <div class="image-module p-absolute top-10">
                        <img src="./img/sidebar-icons/template.svg"/>
                    </div>
                    <div class="label-module top-10">
                        <a class="p-l-40" href="javascript:void(0)">Templates</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xs-7 col-sm-6 module-content-configuration template-list-container">
        <div class="col-xs-12 p-0">
            <div class="align-items-center col-xs-12 d-flex justify-content-end m-b-10 p-t-5 p-b-5 p-0">
                <div class="d-flex d-flex-v-center m-r-10">
                    <div class="tableheader-btn">
                        <span data-ng-if="(templateCtrl.templateSkus|filter:templateCtrl.searchTemplateName).length"
                              data-ng-hide="templateCtrl.templateSkus.length == 1 && templateCtrl.templateSkus[0].isNew">
                            Loaded {{(templateCtrl.templateSkus|filter:templateCtrl.searchTemplateName).length}}
                            Records
                        </span>
                    </div>
                </div>
                <div class="m-r-10">
                    <a>
                        <div class="search-section-template-sku tableheader-btn"
                             data-ng-hide="templateCtrl.templateSkus.length == 1 && templateCtrl.templateSkus[0].isNew"
                             data-ng-if="templateCtrl.templateSkus.length > 0">
                            <input class="form-control input-sm " type="text " id="inlineSearch"
                                   ng-model="templateCtrl.searchTemplateName" indicate-quick-search
                                   placeholder="Quick Search For Template Name"
                                   ng-change="templateCtrl.controlInlineAddOnSearch('Template');">
                        </div>
                    </a>
                </div>
                <div class="m-r-10"
                     data-ng-hide="templateCtrl.templateSkus.length == 1 && templateCtrl.templateSkus[0].isNew"
                     data-ng-if="templateCtrl.templateSkus.length > 0">
                    <a>
                        <button type="button" class="btn-primal" data-ng-click="templateCtrl.fetchTemplateSKU(true);"
                                data-ng-disabled="templateCtrl.refreshMessage && templateCtrl.isProcessing">
                            <span class="f-700">Refresh</span>
                        </button>
                    </a>
                </div>
                <div>
                    <a>
                        <button type="button" class="btn btn-success" data-ng-click="templateCtrl.openAddTemplate();"
                                data-ng-disabled="(templateCtrl.refreshMessage && templateCtrl.isProcessing) || templateCtrl.tempRowAdded || templateCtrl.isShowOptionDetails || templateCtrl.isShowOptionChoiceDetails">
                            <span class="f-700">Add Template</span>
                        </button>
                    </a>
                </div>
            </div>
            <div class="col-xs-12 p-0">
                <div class="col-xs-12 p-0">
                    <div class="list-lake-type-container">
                        <ul class="list-lake-types list-style-none template-configure-row p-0 m-0">
                            <li class=""
                                data-ng-repeat="templateSku in templateCtrl.templateSkus | filter : templateCtrl.searchTemplateName | orderBy:['isNew','name']"
                                style="border: 1px solid #f0f0f0;" data-ng-class="{'cursor-pointer': templateSku.id, 'active-row' :
                                ((templateSku.openConfigureParametersTabel === true || templateSku.openConfigurePackagesTable === true || templateSku.openConfigureOptionTable === true) && templateCtrl.templateSku.id === templateSku.id) || templateCtrl.templateSku.id === templateSku.id || templateCtrl.openUpdateTemplateNameSidepanel && templateCtrl.templateDetails.id === templateSku.id}">
                                <div class="d-flex justify-content-between">
                                    <div class="d-flex d-flex-v-center f-15 c-black flex-1"
                                         ios-dblclick="templateCtrl.dblClickAction(templateSku,'Template');">
                                        <div class="template-sku-abbrevation text-uppercase"
                                             data-ng-if="templateSku.name">{{templateSku.name
                                            | acronym | limitTo : 2}}
                                        </div>
                                        <div class="template-sku-abbrevation text-uppercase"
                                             data-ng-if="!templateSku.name">NA
                                        </div>
                                        <div class="f-16 m-l-5 f-700"
                                             data-ng-if="!templateCtrl.openUpdateTemplateNameSidepanel || templateCtrl.templateDetails.id !== templateSku.id">
                                            {{ templateSku.name }}
                                        </div>

                                        <div class="f-16 m-l-5 f-700 d-flex editing-inline-form flex-1"
                                             data-ng-if="templateCtrl.openUpdateTemplateNameSidepanel && templateCtrl.templateDetails.id === templateSku.id">
                                            <ng-form class="m-b-0 flex-fill" name="templateCtrl.updateTemplateForm"
                                                     novalidate="novalidate">
                                                <div class="d-flex flex-fill">
                                                    <div class="d-flex m-b-0 align-items-center flex-fill">
                                                        <input id="name" name="name"
                                                               type="text"
                                                               class="form-control input-sm m-r-5"
                                                               ng-model="templateCtrl.templateDetails.name"
                                                               placeholder="Enter Name"
                                                               errorvalue="templateCtrl.templateDetails.name_error"
                                                               data-ng-change="templateCtrl.validateForm(templateCtrl.templateDetails,templateCtrl.templateDetails.name)"
                                                               required>
                                                    </div>
                                                    <button class="btn btn-sm btn-success m-r-5"
                                                            data-ng-if="!templateCtrl.templateDetails.id"
                                                            data-ng-click="templateCtrl.saveTemplateSKU(templateCtrl.templateDetails);"
                                                            data-ng-disabled="templateCtrl.templateDetails.validationMessage || templateCtrl.updateTemplateForm.$invalid || templateCtrl.templateDetails.isProcessing || !templateCtrl.templateDetails.name">
                                                            <span class="visible-lg hidden-xs hidden-sm hidden-md">Save</span>
                                                            <span class="hidden-lg visible-sm visible-xs visible-md zmdi zmdi-check"></span>
                                                    </button>
                                                    <button class="btn btn-sm btn-success m-r-5"
                                                            data-ng-if="templateCtrl.templateDetails.id"
                                                            data-ng-click="templateCtrl.updateTemplateSKU(templateCtrl.templateDetails);"
                                                            data-ng-disabled="templateCtrl.templateDetails.validationMessage || templateCtrl.updateTemplateForm.$invalid || templateCtrl.templateDetails.isProcessing">
                                                        
                                                        <span class="visible-lg hidden-xs hidden-sm hidden-md">Update</span>
                                                        <span class="hidden-lg visible-sm visible-xs visible-md zmdi zmdi-edit"></span>
                                                    </button>
                                                    <button class="btn btn-sm btn-default m-r-5"
                                                            data-ng-click="templateCtrl.removeTempRow(templateCtrl.templateDetails,'templatemaster');">
                                                            <span class="visible-lg hidden-xs hidden-sm hidden-md">Cancel</span>
                                                            <span class="hidden-lg visible-sm visible-xs visible-md zmdi zmdi-close"></span>
                                                    </button>
                                                    <button class="btn btn-sm btn-danger"
                                                            data-ng-if="templateCtrl.templateDetails.id"
                                                            data-ng-click="templateCtrl.showConfirmInline('template');"
                                                            data-ng-disabled="templateCtrl.templateDetails.isProcessing">
                                                            <span class="visible-lg hidden-xs hidden-sm hidden-md">Delete</span>
                                                            <span class="hidden-lg visible-sm visible-xs visible-md zmdi zmdi-delete"></span>
                                                    </button>
                                                </div>
                                            </ng-form>
                                        </div>
                                    </div>
                                    <div class="d-flex d-flex-v-center f-14 template-configure-btn"
                                         data-ng-if="templateSku.id">
                                        <button title="Packages" class="m-l-20 background-transparent border-none"
                                                data-ng-click="templateCtrl.openTemplateConfiguration(templateSku, 'Template Package');"
                                                data-ng-disabled="templateCtrl.isShowOptionChoiceDetails || templateCtrl.isShowOptionDetails">
                                            <svg data-ng-class="{'active-btn' : templateSku.openConfigurePackagesTable === true && templateCtrl.templateSku.id === templateSku.id}"
                                                version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                                xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 484.544 484.544"
                                                width="25px" height="25px" style="enable-background:new 0 0 484.544 484.544;"
                                                xml:space="preserve" fill="#000">
                                                <g>
                                                    <path d="M385.875,253.774l-180.2,180.2c-2.1,2.1-4.4,4.1-6.8,5.9c3,0.8,6.1,1.2,9.3,1.2h169.4c20.5,0,37.2-16.7,37.2-37.2v-151.5
                                            c-8-0.5-16.2-1.5-24.7-3.1C388.775,250.774,387.375,252.274,385.875,253.774z" />
                                                    <path d="M462.075,135.774c-0.3-0.3-0.6-0.6-0.9-0.9c-16.7-16.7-41-32.1-68.6-43.6c-5-2.1-10.1-4-15.2-5.7v-0.3
                                            c-0.3-22.1-18.1-39.9-40.2-40.2l-108-1.6c-14.3-0.2-28.1,5.4-38.2,15.5l-180.1,180.3c-14.5,14.5-14.5,38.1,0,52.6l119.8,119.8
                                            c14.5,14.5,38.1,14.5,52.6,0l180.3-180.3c5.2-5.2,9.1-11.3,11.8-18c18.1,5.1,35.7,7.8,51.2,7.7c38.4-0.2,51.1-17,55.3-27
                                            C485.975,184.074,488.975,163.174,462.075,135.774z M238.975,238.074c-4.2,2.3-8.5,4.8-12.8,7c-4.1,2.1-5.5,1.6-7-2.8
                                            c-3.1-8.8-8.1-16.3-15-22.5c-1.8-1.6-3.7-3.1-6-4c-8.2-3.2-15.4,2.1-14.4,10.9c0.5,4.4,1.9,8.6,3.6,12.7c2.9,7.1,6,14.2,8.1,21.6
                                            c6.8,23.6-8.2,46.8-31.9,49.1c-8.6,0.8-16.8-1-24.3-5.3c-3.3-1.9-5.8-1.7-8.3,1.1c-2.5,2.7-5.3,5.2-7.9,7.8
                                            c-2.3,2.3-4.8,2.4-7.1,0.1c-2.9-2.7-5.7-5.6-8.5-8.4c-2.4-2.5-2.2-5.1,0.2-7.5c1.9-1.9,3.8-3.9,5.7-5.8c4.2-4.3,4.2-4.6,0.8-9.3
                                            c-4.4-6-8.3-12.3-10.7-19.4c-1.9-5.5-1.4-6.9,3.6-9.7c3.7-2.1,7.4-4.2,11.2-6.2c4.4-2.3,5.7-1.8,7.2,2.9c2.5,8,6.6,15.1,11.7,21.7
                                            c3.3,4.3,7.4,7.5,12.4,9.5c9.4,3.7,18-2.9,17-12.9c-0.3-3.4-1.3-6.7-2.6-9.9c-3.2-8.2-7.3-16.1-9.4-24.8
                                            c-3.5-14-1.9-26.8,9.4-36.8c12.8-11.3,27.1-12,42.2-5c6.2,2.9,6.2,3,11-1.8c1.6-1.6,3.2-3.2,4.9-4.8c3.7-3.5,4.9-3.5,8.6,0
                                            c1.1,1.1,2.2,2.2,3.3,3.3c7.6,7.6,7.6,7.6,0,15.3c-5.4,5.4-5.4,5.4-0.9,11.6c3.5,4.8,6.2,9.9,8.3,15.4
                                            C242.475,234.174,241.875,236.474,238.975,238.074z M452.875,182.074c-3.4,8.1-39.7,15.2-94.8-7.8c-16.2-6.7-31.2-15.1-43.5-24.1
                                            c-0.4,0.5-0.9,1-1.3,1.5c-12,12-31.6,12-43.6,0s-12-31.6,0-43.6s31.6-12,43.6,0c7.2,7.2,10,17,8.7,26.3
                                            c11.8,8.4,26,16.1,41.1,22.4c5.4,2.2,10.5,4.2,15.5,5.9l-0.6-43.4c0.9,0.4,1.7,0.7,2.6,1.1c23.6,9.8,44.8,23.2,58.5,36.9
                                            c0.2,0.2,0.4,0.4,0.6,0.6C452.675,170.974,453.975,179.374,452.875,182.074z" />
                                                </g>
                                            </svg>
                                        </button>
                                        <button title="Parameters" class="m-l-20 background-transparent border-none"
                                                data-ng-click="templateCtrl.openTemplateConfiguration(templateSku, 'Template Parameter');"
                                                data-ng-disabled="templateCtrl.isShowOptionChoiceDetails || templateCtrl.isShowOptionDetails">
                                            <svg data-ng-class="{'active-btn' : templateSku.openConfigureParametersTabel === true && templateCtrl.templateSku.id === templateSku.id}"
                                                version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                                xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 60 60"
                                                width="25px" height="25px" style="enable-background:new 0 0 60 60;"
                                                xml:space="preserve" fill="#000">
                                                <g>
                                                    <path d="M14,36C8.486,36,4,40.486,4,46s4.486,10,10,10s10-4.486,10-10S19.514,36,14,36z M14,54c-4.411,0-8-3.589-8-8s3.589-8,8-8
                                            s8,3.589,8,8S18.411,54,14,54z" />
                                                    <path d="M46,32H14C6.28,32,0,38.28,0,46s6.28,14,14,14h32c7.72,0,14-6.28,14-14S53.72,32,46,32z M46,58H14C7.383,58,2,52.617,2,46
                                            s5.383-12,12-12h32c6.617,0,12,5.383,12,12S52.617,58,46,58z" />
                                                    <path d="M14,28h32c7.72,0,14-6.28,14-14S53.72,0,46,0H14C6.28,0,0,6.28,0,14S6.28,28,14,28z M46,4c5.514,0,10,4.486,10,10
                                            s-4.486,10-10,10s-10-4.486-10-10S40.486,4,46,4z" />
                                                </g>
                                            </svg>
                                        </button>
                                        <button title="Options" class="m-l-20 background-transparent border-none"
                                                data-ng-click="templateCtrl.openTemplateConfiguration(templateSku, 'Template Option');"
                                                data-ng-disabled="templateCtrl.isShowOptionChoiceDetails || templateCtrl.isShowOptionDetails">
                                            <svg data-ng-class="{'active-btn' : templateSku.openConfigureOptionTable === true && templateCtrl.templateSku.id === templateSku.id}"
                                                 height="25px" viewBox="0 -1 512 512" width="25px"
                                                 xmlns="http://www.w3.org/2000/svg"
                                                 fill="#000">
                                                <path d="m230 213.984375v-144.984375l-115-69-115 69v144.984375l115 69zm-30-16.984375-70 42v-75.015625l70-42zm-170-111.015625 85-51 85 51v1.015625l-85 51-85-51zm70 153.015625-70-42v-75.015625l70 42zm0 0"/>
                                                <path d="m397 228-115 69v144.984375l115 69 115-69v-144.984375zm-15 239-70-42v-75.015625l70 42zm100-42-70 42v-75.015625l70-42zm0-110-85 51-85-51v-1.015625l85-51 85 51zm0 0"/>
                                                <path d="m412 183.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                                                <path d="m412 123.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                                                <path d="m352 123.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                                                <path d="m292 123.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                                                <path d="m130 327.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                                                <path d="m130 387.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                                                <path d="m190 387.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                                                <path d="m250 387.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <div class="p-l-50 p-b-5"
                                     data-ng-if="templateSku.id === templateCtrl.templateDetails.id && templateCtrl.templateDetails.validationMessage">
                                    <span class="text-danger f-500 f-11">{{templateCtrl.templateDetails.validationMessage}}</span>
                                </div>
                                <div class="p-l-50 p-b-5"
                                     data-ng-if="templateSku.id === templateCtrl.templateDetails.id && templateCtrl.templateDetails.errorMessage">
                                    <span class="text-danger f-500 f-11">{{templateCtrl.templateDetails.errorMessage}}</span>
                                </div>
                                <div data-ng-if="templateCtrl.isConfirmTemplateDelete && templateCtrl.templateDetails.id === templateSku.id"
                                     class="m-b-10 d-flex align-items-center" style="padding-left: 65px;">
                                    <span class="f-300 f-13 m-r-5">Are you sure?</span>
                                    <button class="btn btn-sm btn-danger m-r-5"
                                            data-ng-click="templateCtrl.deleteTemplateSKU(templateCtrl.templateDetails);"
                                            data-ng-disabled="templateCtrl.templateDetails.isProcessing">Yes
                                    </button>
                                    <button class="btn btn-sm"
                                            data-ng-click="templateCtrl.isConfirmTemplateDelete = false;">Cancel
                                    </button>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div data-ng-if="templateCtrl.LoadingMessage && (!templateCtrl.templateSkus || !templateCtrl.templateSkus.length)">
                        <span class="f-14">
                            {{ templateCtrl.LoadingMessage }}
                        </span>
                    </div>
                    <div class="text-center"
                         data-ng-if="!templateCtrl.LoadingMessage && templateCtrl.templateMessage && templateCtrl.templateSkus && !templateCtrl.templateSkus.length">
                        <span class="f-14">
                            {{ templateCtrl.templateMessage }}
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xs-5 col-sm-6 p-0 module-content-configuration optionTableSpace c-overflow"
         data-ng-class="{'m-t-8' : templateCtrl.templateSku.openConfigureOptionTable === true}">
        <div data-ng-if="templateCtrl.templateSku.openConfigureParametersTabel === true && templateCtrl.templateSku">
            <div class="col-xs-12 p-0">
                <div class="col-xs-12 p-l-10 p-r-10 template-name-header template-name-main-header d-flex justify-content-between d-flex-v-center">
                    <div class="d-flex align-items-center">
                        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            x="0px" y="0px" viewBox="0 0 60 60" width="17px" style="enable-background:new 0 0 60 60;"
                            xml:space="preserve" fill="#000">
                            <g>
                                <path d="M14,36C8.486,36,4,40.486,4,46s4.486,10,10,10s10-4.486,10-10S19.514,36,14,36z M14,54c-4.411,0-8-3.589-8-8s3.589-8,8-8
                        s8,3.589,8,8S18.411,54,14,54z" />
                                <path d="M46,32H14C6.28,32,0,38.28,0,46s6.28,14,14,14h32c7.72,0,14-6.28,14-14S53.72,32,46,32z M46,58H14C7.383,58,2,52.617,2,46
                        s5.383-12,12-12h32c6.617,0,12,5.383,12,12S52.617,58,46,58z" />
                                <path d="M14,28h32c7.72,0,14-6.28,14-14S53.72,0,46,0H14C6.28,0,0,6.28,0,14S6.28,28,14,28z M46,4c5.514,0,10,4.486,10,10
                        s-4.486,10-10,10s-10-4.486-10-10S40.486,4,46,4z" />
                            </g>
                        </svg>
                        <span class="p-l-10 f-300 c-black f-16">Parameters</span>
                    </div>
                    <span>
                        <button class="btn btn-success"
                                data-ng-click="templateCtrl.openCreateForm('Template Parameter');"
                                data-ng-disabled="templateCtrl.tempRowAdded || templateCtrl.isShowParameterChoiceDetails">
                            <span class="f-700">Add Parameter</span>
                        </button>
                        <button class="btn btn-cancel"
                                data-ng-click="templateCtrl.closeTemplateConfiguration('template parameter')">
                            <span class="f-700">Close</span>
                        </button>
                    </span>
                </div>
                <div class="col-xs-12 p-0">
                    <div class="list-lake-type-container">
                        <ul class="list-lake-types p-0 m-0 template-configure-row p-0 m-0 parameter-list list-style-none">
                            <li style="border-bottom:1px solid #f0f0f0;padding:12px 0;background: #fbfbfb;"
                                data-ng-class="{'active-row' : templateCtrl.isShowParameterDetails === true && templateCtrl.templateParameterDetails.id === parameter.id ||templateCtrl.templateSku.openParametersChoiceTable === true && templateCtrl.parameter.id === parameter.id}"
                                data-ng-repeat="parameter in templateCtrl.templateSku.parameters | orderBy: ['isNew', 'parameter_name']">

                                <!-- on double click change template parameter name with inline editing start-->
                                <div class="d-flex justify-content-between">
                                    <div class="d-flex d-flex-v-center f-15 c-black flex-1"
                                         data-ng-class="{'cursor-pointer': parameter.id}"
                                         ios-dblclick="templateCtrl.dblClickAction(parameter, 'Template Parameter');">
                                        <div class="template-row-data"
                                             data-ng-if="!templateCtrl.isShowParameterDetails || templateCtrl.templateParameterDetails.id !== parameter.id">
                                            {{ parameter.parameter_name }}
                                        </div>
                                        <div class="f-16 m-l-5 f-700 d-flex editing-inline-form flex-1"
                                             data-ng-if="templateCtrl.isShowParameterDetails && templateCtrl.templateParameterDetails.id === parameter.id">
                                            <ng-form class="m-b-0 flex-1" name="templateCtrl.templateParameterForm"
                                                     novalidate="novalidate">
                                                <div class="d-flex flex-1">
                                                    <div class="d-flex m-b-0 align-items-center flex-1">
                                                        <input id="parameter_name"
                                                               name="parameter_name"
                                                               type="text" class="m-r-5 form-control input-sm flex-1"
                                                               ng-model="templateCtrl.templateParameterDetails.parameter_name"
                                                               data-ng-change="templateCtrl.validateForm(templateCtrl.templateParameterDetails,templateCtrl.templateParameterDetails.parameter_name)"
                                                               placeholder="Enter Name" required>
                                                    </div>
                                                    <button class="btn btn-sm btn-success m-r-5"
                                                            data-ng-if="!templateCtrl.templateParameterDetails.id"
                                                            data-ng-click="templateCtrl.saveTemplateParameterBySKU(templateCtrl.templateParameterDetails);"
                                                            data-ng-disabled="templateCtrl.templateParameterDetails.validationMessage || templateCtrl.templateParameterForm.$invalid || templateCtrl.templateParameterDetails.isProcessing">
                                                        Save
                                                    </button>
                                                    <button class="btn btn-sm btn-success m-r-5"
                                                            data-ng-if="templateCtrl.templateParameterDetails.id"
                                                            data-ng-click="templateCtrl.updateTemplateParameterBySKU(templateCtrl.templateParameterDetails);"
                                                            data-ng-disabled="templateCtrl.templateParameterDetails.validationMessage || templateCtrl.templateParameterForm.$invalid || templateCtrl.templateParameterDetails.isProcessing">
                                                        Update
                                                    </button>
                                                    <button class="btn btn-sm btn-default m-r-5"
                                                            data-ng-click="templateCtrl.removeTempRow(templateCtrl.templateParameterDetails,'template parameter');">
                                                        Cancel
                                                    </button>
                                                    <button class="btn btn-sm btn-danger m-r-10"
                                                            data-ng-if="templateCtrl.templateParameterDetails.id"
                                                            data-ng-click="templateCtrl.showConfirmInline('template parameter');"
                                                            data-ng-disabled="templateCtrl.templateParameterDetails.isProcessing">
                                                        Delete
                                                    </button>
                                                </div>
                                                <div class="p-t-5"
                                                     data-ng-if="parameter.id === templateCtrl.templateParameterDetails.id && templateCtrl.templateParameterDetails.validationMessage">
                                                    <span class="text-danger f-500 f-11">{{templateCtrl.templateParameterDetails.validationMessage}}</span>
                                                </div>
                                                <div class="m-t-5"
                                                     data-ng-if="templateCtrl.templateParameterDetails.errorMessage">
                                                    <span class="text-danger f-500 f-11">{{templateCtrl.templateParameterDetails.errorMessage}}</span>
                                                </div>
                                            </ng-form>
                                        </div>
                                    </div>
                                    <div class="d-flex d-flex-v-center f-14 template-configure-btn"
                                         style="padding-right:9px"
                                         ng-if="parameter.id">
                                        <span class="link-color f-500 cursor-pointer m-l-10"
                                              data-ng-click="templateCtrl.openTemplateConfiguration(parameter, 'Template Parameter Choice');"
                                              data-ng-class="{'active-btn' : templateCtrl.templateSku.openParametersChoiceTable === true && templateCtrl.parameter.id === parameter.id}">
                                            <span class="fa fa-clipboard-list fa-fw f-18" title="Configure Choice" title-direction="top-left"></span>
                                        </span>
                                    </div>
                                </div>
                                <div data-ng-if="templateCtrl.isConfirmParameterDelete && templateCtrl.templateParameterDetails.id === parameter.id"
                                     class="m-t-10 d-flex align-items-center" style="padding-left: 20px;">
                                    <span class="f-300 f-13 m-r-5">Are you sure?</span>
                                    <button class="btn btn-sm btn-danger m-r-5"
                                            data-ng-click="templateCtrl.deleteTemplateParameterBySKU(templateCtrl.templateParameterDetails);"
                                            data-ng-disabled="templateCtrl.templateParameterDetails.isProcessing">Yes
                                    </button>
                                    <button class="btn btn-sm"
                                            data-ng-click="templateCtrl.isConfirmParameterDelete = false;">Cancel
                                    </button>
                                </div>
                                <!-- on double click change template parameter name with inline editing end-->
                            </li>
                            <li data-ng-if="templateCtrl.LoadingMessage && !templateCtrl.templateSku.parameters.length"
                                class="d-flex justify-content-between" style="border-bottom:1px solid #ddd">
                                <span class="f-14" style="padding-left:9px;">
                                    {{ templateCtrl.LoadingMessage }}
                                </span>
                            </li>
                            <li data-ng-if="!templateCtrl.LoadingMessage && templateCtrl.parameterMessage && !templateCtrl.templateSku.parameters.length"
                                class="d-flex justify-content-between" style="border-bottom:1px solid #ddd">
                                <span class="f-14" style="padding-left:9px;">
                                    {{ templateCtrl.parameterMessage }}
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div data-ng-if="templateCtrl.templateSku.openParametersChoiceTable === true && templateCtrl.parameter">
            <div class="col-xs-12 p-0 treeview">
                <div class="col-xs-12 p-l-10 p-r-10 template-name-header template-name-sub-section-header d-flex justify-content-between d-flex-v-center">
                    <div class="d-flex align-items-center">
                        <span class="p-l-10 f-300 c-black f-16">Parameter Choices</span>
                    </div>
                    <span>
                        <button class="btn btn-success"
                                data-ng-click="templateCtrl.openCreateForm('Template Parameter Choice');"
                                data-ng-disabled="templateCtrl.tempRowAdded || templateCtrl.isShowParameterChoiceDetails">
                            <span class="f-700">Add Parameter Choice</span>
                        </button>
                        <button class="btn btn-cancel"
                                data-ng-click="templateCtrl.templateSku.openParametersChoiceTable = false;templateCtrl.isShowParameterChoiceDetails = false; templateCtrl.choiceValues.showPackagePriceForChoice = false; templateCtrl.removeTempRow('template parameter choice');">
                            <span class="f-700">Close</span>
                        </button>
                    </span>
                </div>
                <div class="col-xs-12 p-5"
                     data-ng-if="templateCtrl.LoadingMessage && !templateCtrl.parameter.choices.length">
                    {{ templateCtrl.LoadingMessage }}
                </div>
                <div class="col-xs-12 p-5"
                     data-ng-if="!templateCtrl.LoadingMessage && templateCtrl.choiceMessage && !templateCtrl.parameter.choices.length">
                    {{ templateCtrl.choiceMessage }}
                </div>
                <div class="col-xs-12 p-0" data-ng-if="templateCtrl.parameter.choices.length">
                    <div class="list-lake-type-container">
                        <ul class="template-configure-row list-lake-types list-style-none">
                            <li class="col-xs-12 cursor-pointer" style="width:100%;"
                                data-ng-repeat="(choiceName, choiceValues) in templateCtrl.parameter.choices | orderBy:['isNew','choice'] | groupBy:'choice'"
                                data-ng-class="{'active-row':templateCtrl.isShowParameterChoiceDetails && !templateCtrl.parameterChoiceDetails.package_id  && templateCtrl.parameterChoiceDetails.id === choiceValues[0].id}">
                                <div class="col-xs-12 d-flex justify-content-start align-items-center"
                                     style="padding: 5px; border-bottom: 1px solid #f0f0f0;">
                                    <div class="col-xs-12 p-0 link-color d-flex justify-content-start align-items-center"
                                         data-ng-if="!templateCtrl.isShowParameterChoiceDetails || templateCtrl.parameterChoiceDetails.package_id || templateCtrl.parameterChoiceDetails.id !== choiceValues[0].id">
                                        <div class="f-10 ">
                                            <span class="fa fa-chevron-right m-r-5"
                                                  data-ng-if="!choiceValues[0].showPackagePriceForChoice"
                                                  data-ng-click="templateCtrl.togglePackagePriceForChoice(choiceValues[0]);"></span>
                                            <span class="fa fa-chevron-down m-r-5"
                                                  data-ng-if="choiceValues[0].showPackagePriceForChoice"
                                                  data-ng-click="templateCtrl.togglePackagePriceForChoice(choiceValues[0]);"></span>
                                        </div>
                                        <div class="col-xs-12 p-0 f-15"
                                             single-click="templateCtrl.togglePackagePriceForChoice(choiceValues[0]);"
                                             ios-dblclick="templateCtrl.dblClickAction({choice: choiceName, id: choiceValues[0].id}, 'Template Parameter Choice');"
                                             data-ng-class="{'f-700':choiceValues[0].showPackagePriceForChoice}">
                                            {{ choiceName }}
                                        </div>
                                    </div>
                                    <div class="f-16 m-t-5 m-b-5 f-700 d-flex editing-inline-form flex-1"
                                         data-ng-if="templateCtrl.isShowParameterChoiceDetails && !templateCtrl.parameterChoiceDetails.package_id  && templateCtrl.parameterChoiceDetails.id === choiceValues[0].id">
                                        <ng-form class="m-b-0 flex-1" name="templateCtrl.updateParameterChoiceForm"
                                                 novalidate="novalidate">
                                            <div class="d-flex flex-1">
                                                <div class="d-flex m-b-0 align-items-center flex-1">
                                                    <input id="choice" name="choice"
                                                           type="text"
                                                           class="form-control input-sm m-r-5 d-block flex-1"
                                                           ng-model="templateCtrl.parameterChoiceDetails.choice"
                                                           placeholder="Enter choice"
                                                           errorvalue="templateCtrl.parameterChoiceDetails.choice_error"
                                                           data-ng-change="templateCtrl.validateForm(templateCtrl.parameterChoiceDetails,templateCtrl.parameterChoiceDetails.choice)"
                                                           required>
                                                </div>
                                                <button class="btn btn-sm btn-success m-r-5"
                                                        data-ng-if="!templateCtrl.parameterChoiceDetails.id"
                                                        data-ng-click="templateCtrl.saveParameterChoice(templateCtrl.parameterChoiceDetails);"
                                                        data-ng-disabled="templateCtrl.parameterChoiceDetails.validationMessage || templateCtrl.updateParameterChoiceForm.$invalid || templateCtrl.parameterChoiceDetails.isProcessing">
                                                    Save
                                                </button>
                                                <button class="btn btn-sm btn-success m-r-5"
                                                        data-ng-if="templateCtrl.parameterChoiceDetails.id"
                                                        data-ng-click="templateCtrl.updateParameterChoice(templateCtrl.parameterChoiceDetails);"
                                                        data-ng-disabled="templateCtrl.parameterChoiceDetails.validationMessage || templateCtrl.updateParameterChoiceForm.$invalid || templateCtrl.parameterChoiceDetails.isProcessing">
                                                    Update
                                                </button>
                                                <button class="btn btn-sm btn-default m-r-5"
                                                        data-ng-click="templateCtrl.isShowParameterChoiceDetails = false;templateCtrl.removeTempRow(templateCtrl.parameterChoiceDetails, 'Template Parameter Choice');">
                                                    Cancel
                                                </button>
                                                <button class="btn btn-sm btn-danger m-r-10"
                                                        data-ng-if="templateCtrl.parameterChoiceDetails.id"
                                                        data-ng-click="templateCtrl.showConfirmInline('Template Parameter Choice');"
                                                        data-ng-disabled="templateCtrl.parameterChoiceDetails.isProcessing">
                                                    Delete
                                                </button>
                                            </div>
                                            <div class="p-t-5"
                                                 data-ng-if="choiceValues[0].id === templateCtrl.parameterChoiceDetails.id && templateCtrl.parameterChoiceDetails.validationMessage">
                                                <span class="text-danger f-500 f-11">{{templateCtrl.parameterChoiceDetails.validationMessage}}</span>
                                            </div>
                                            <div class="m-t-5"
                                                 data-ng-if="templateCtrl.parameterChoiceDetails.errorMessage">
                                                <span class="text-danger f-500 f-11">{{templateCtrl.parameterChoiceDetails.errorMessage}}</span>
                                            </div>
                                        </ng-form>
                                    </div>
                                    <div data-ng-if="templateCtrl.isConfirmParameterChoiceDelete && templateCtrl.parameterChoiceDetails.id === choiceValues[0].id"
                                         class="m-t-5 m-b-5 d-flex align-items-center" style="padding-left: 20px;">
                                        <span class="f-300 f-13 m-r-5">Are you sure?</span>
                                        <button class="btn btn-sm btn-danger m-r-5"
                                                data-ng-click="templateCtrl.removeParameterChoice(templateCtrl.parameterChoiceDetails);"
                                                data-ng-disabled="templateCtrl.parameterChoiceDetails.isProcessing">Yes
                                        </button>
                                        <button class="btn btn-sm"
                                                data-ng-click="templateCtrl.isConfirmParameterChoiceDelete = false;">
                                            Cancel
                                        </button>
                                    </div>
                                </div>
                                <div class="col-xs-12 p-0" data-ng-if="choiceValues[0].showPackagePriceForChoice"
                                     style="border:1px solid #efefef;">
                                    <div class="col-xs-12 p-0 choice-package-header">
                                        <div class="col-xs-12 p-l-20">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <span class="col-xs-4 p-0">Package</span>
                                                <span class="col-xs-8 p-0">Price</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 p-0">
                                        <div class="col-xs-12 p-l-20">
                                            <div class="flex-2 f-14" data-ng-repeat="choiceValue in choiceValues">
                                                <div class="d-flex align-items-center justify-content-between"
                                                     data-ng-if="choiceValue.price !== null">
                                                    <span class="col-xs-4 p-0">{{ choiceValue.package_name }}</span>
                                                    <div class="col-xs-8 p-0"
                                                         data-ng-if="!templateCtrl.isShowParameterChoiceDetails || templateCtrl.parameterChoiceDetails.package_id !== choiceValue.package_id || templateCtrl.parameterChoiceDetails.id !== choiceValue.id">
                                                        <span ios-dblclick="templateCtrl.dblClickAction(choiceValue, 'Template Parameter Choice');">
                                                            <span class="f-300 f-14">$</span>
                                                            {{choiceValue.price | DecimalPrecision: 2 }}
                                                        </span>
                                                    </div>
                                                    <div class="f-16 f-700 d-flex editing-inline-form flex-1"
                                                         data-ng-if="templateCtrl.parameterChoiceDetails && templateCtrl.parameterChoiceDetails.package_id && templateCtrl.parameterChoiceDetails.package_id === choiceValue.package_id && templateCtrl.parameterChoiceDetails.id === choiceValue.id">
                                                        <ng-form class="m-b-0"
                                                                 name="templateCtrl.templateChoicePackageForm"
                                                                 novalidate="novalidate">
                                                            <div class="d-flex m-b-0 align-items-center">
                                                                <input style="width:100px;"
                                                                       id="price"
                                                                       data-ng-init="templateCtrl.parameterChoiceDetails.price = templateCtrl.roundOff(templateCtrl.parameterChoiceDetails.price);"
                                                                       data-ng-blur="templateCtrl.parameterChoiceDetails.price = templateCtrl.roundOff(templateCtrl.parameterChoiceDetails.price);"
                                                                       data-ng-change="templateCtrl.validatePriceField(templateCtrl.parameterChoiceDetails,templateCtrl.parameterChoiceDetails.price)"
                                                                       name="price" type="text"
                                                                       class="m-r-5 form-control input-sm d-block"
                                                                       ng-model="templateCtrl.parameterChoiceDetails.price"
                                                                       placeholder="Enter price" required
                                                                       decimal-numbers maxlength="9" valid-number>
                                                                <button class="btn btn-sm btn-success m-r-5"
                                                                        data-ng-if="!templateCtrl.parameterChoiceDetails.id"
                                                                        data-ng-click="templateCtrl.saveParameterChoice(templateCtrl.parameterChoiceDetails);"
                                                                        data-ng-disabled="templateCtrl.parameterChoiceDetails.validationMessage || templateCtrl.parameterChoiceDetails.isProcessing">
                                                                    Save
                                                                </button>
                                                                <button class="btn btn-sm btn-success m-r-5"
                                                                        data-ng-if="templateCtrl.parameterChoiceDetails.id"
                                                                        data-ng-click="templateCtrl.updateParameterChoice(templateCtrl.parameterChoiceDetails);"
                                                                        data-ng-disabled="templateCtrl.parameterChoiceDetails.validationMessage || templateCtrl.parameterChoiceDetails.isProcessing">
                                                                    Update
                                                                </button>
                                                                <button class="btn btn-sm m-r-5"
                                                                        data-ng-click="templateCtrl.removeTempRow(templateCtrl.parameterChoiceDetails,'template parameter choice');">
                                                                    Cancel
                                                                </button>
                                                                <span class="text-danger f-300 f-12"
                                                                      data-ng-if="templateCtrl.parameterChoiceDetails.validationMessage">{{templateCtrl.parameterChoiceDetails.validationMessage}}</span>
                                                                <!-- <button class="btn btn-sm btn-danger m-r-10" data-ng-if="templateCtrl.parameterChoiceDetails.id"
                                                                            data-ng-click="templateCtrl.showConfirmInline('template parameter choice');">Delete</button> -->
                                                            </div>
                                                        </ng-form>
                                                    </div>
                                                </div>
                                                <div data-ng-if="choiceValue.price === null">
                                                    <div class="d-flex align-items-center justify-content-between">
                                                        <span class="col-xs-4 p-0">No Packages exists</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div data-ng-if="templateCtrl.templateSku.openConfigurePackagesTable === true && templateCtrl.templateSku">
            <div class="col-xs-12 p-0 treeview">
                <div class="col-xs-12 p-l-10 p-r-10 template-name-header template-name-main-header d-flex justify-content-between d-flex-v-center">
                    <div class="d-flex align-items-center">
                        <svg data-ng-class="{'active-btn' : templateSku.openConfigurePackagesTable === true && templateCtrl.templateSku.id === templateSku.id}"
                            version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            x="0px" y="0px" viewBox="0 0 484.544 484.544" width="17px" style="enable-background:new 0 0 484.544 484.544;"
                            xml:space="preserve" fill="#000">
                            <g>
                                <path d="M385.875,253.774l-180.2,180.2c-2.1,2.1-4.4,4.1-6.8,5.9c3,0.8,6.1,1.2,9.3,1.2h169.4c20.5,0,37.2-16.7,37.2-37.2v-151.5
                        c-8-0.5-16.2-1.5-24.7-3.1C388.775,250.774,387.375,252.274,385.875,253.774z" />
                                <path d="M462.075,135.774c-0.3-0.3-0.6-0.6-0.9-0.9c-16.7-16.7-41-32.1-68.6-43.6c-5-2.1-10.1-4-15.2-5.7v-0.3
                        c-0.3-22.1-18.1-39.9-40.2-40.2l-108-1.6c-14.3-0.2-28.1,5.4-38.2,15.5l-180.1,180.3c-14.5,14.5-14.5,38.1,0,52.6l119.8,119.8
                        c14.5,14.5,38.1,14.5,52.6,0l180.3-180.3c5.2-5.2,9.1-11.3,11.8-18c18.1,5.1,35.7,7.8,51.2,7.7c38.4-0.2,51.1-17,55.3-27
                        C485.975,184.074,488.975,163.174,462.075,135.774z M238.975,238.074c-4.2,2.3-8.5,4.8-12.8,7c-4.1,2.1-5.5,1.6-7-2.8
                        c-3.1-8.8-8.1-16.3-15-22.5c-1.8-1.6-3.7-3.1-6-4c-8.2-3.2-15.4,2.1-14.4,10.9c0.5,4.4,1.9,8.6,3.6,12.7c2.9,7.1,6,14.2,8.1,21.6
                        c6.8,23.6-8.2,46.8-31.9,49.1c-8.6,0.8-16.8-1-24.3-5.3c-3.3-1.9-5.8-1.7-8.3,1.1c-2.5,2.7-5.3,5.2-7.9,7.8
                        c-2.3,2.3-4.8,2.4-7.1,0.1c-2.9-2.7-5.7-5.6-8.5-8.4c-2.4-2.5-2.2-5.1,0.2-7.5c1.9-1.9,3.8-3.9,5.7-5.8c4.2-4.3,4.2-4.6,0.8-9.3
                        c-4.4-6-8.3-12.3-10.7-19.4c-1.9-5.5-1.4-6.9,3.6-9.7c3.7-2.1,7.4-4.2,11.2-6.2c4.4-2.3,5.7-1.8,7.2,2.9c2.5,8,6.6,15.1,11.7,21.7
                        c3.3,4.3,7.4,7.5,12.4,9.5c9.4,3.7,18-2.9,17-12.9c-0.3-3.4-1.3-6.7-2.6-9.9c-3.2-8.2-7.3-16.1-9.4-24.8
                        c-3.5-14-1.9-26.8,9.4-36.8c12.8-11.3,27.1-12,42.2-5c6.2,2.9,6.2,3,11-1.8c1.6-1.6,3.2-3.2,4.9-4.8c3.7-3.5,4.9-3.5,8.6,0
                        c1.1,1.1,2.2,2.2,3.3,3.3c7.6,7.6,7.6,7.6,0,15.3c-5.4,5.4-5.4,5.4-0.9,11.6c3.5,4.8,6.2,9.9,8.3,15.4
                        C242.475,234.174,241.875,236.474,238.975,238.074z M452.875,182.074c-3.4,8.1-39.7,15.2-94.8-7.8c-16.2-6.7-31.2-15.1-43.5-24.1
                        c-0.4,0.5-0.9,1-1.3,1.5c-12,12-31.6,12-43.6,0s-12-31.6,0-43.6s31.6-12,43.6,0c7.2,7.2,10,17,8.7,26.3
                        c11.8,8.4,26,16.1,41.1,22.4c5.4,2.2,10.5,4.2,15.5,5.9l-0.6-43.4c0.9,0.4,1.7,0.7,2.6,1.1c23.6,9.8,44.8,23.2,58.5,36.9
                        c0.2,0.2,0.4,0.4,0.6,0.6C452.675,170.974,453.975,179.374,452.875,182.074z" />
                            </g>
                        </svg>
                        <span class="p-l-10 f-300 c-black f-16">Packages</span>
                    </div>
                    <span>
                        <button class="btn btn-success"
                                data-ng-click="templateCtrl.openCreateForm('Template Package');">
                            <span class="f-700">Add Package</span>
                        </button>
                        <button class="btn btn-cancel"
                                data-ng-click="templateCtrl.closeTemplateConfiguration('template package')">
                            <span class="f-700">Close</button>
                        </button>
                    </span>
                </div>

                <div class="col-xs-12 p-0">
                    <div class="list-lake-type-container">
                        <ul class="list-lake-types p-0 m-0 template-configure-row p-0 m-0 package-list list-style-none">
                            <li style="border-bottom:1px solid #f0f0f0;padding:5px 0;background: #fbfbfb;"
                                class="d-flex justify-content-between"
                                data-ng-class="{'active-row' : templateCtrl.isShowPackageDetails === true && templateCtrl.packageDetails.id === package.id}"
                                data-ng-repeat="package in templateCtrl.templateSku.packages | orderBy: ['isNew','package_name']">

                                <!-- on double click change template package name with inline editing start-->
                                <div class="col-xs-12 p-0 d-flex justify-content-between">
                                    <div class="d-flex d-flex-v-center f-15 c-black flex-1 cursor-pointer"
                                         ios-dblclick="templateCtrl.dblClickAction(package, 'Template Package');">
                                        <div class="template-row-data"
                                             data-ng-if="!templateCtrl.isShowPackageDetails || templateCtrl.packageDetails.id !== package.id">
                                            {{ package.package_name }}
                                        </div>
                                        <div class="f-16 m-l-5 f-700 d-flex editing-inline-form flex-1"
                                             data-ng-if="templateCtrl.isShowPackageDetails && templateCtrl.packageDetails.id === package.id">
                                            <ng-form class="m-b-0 flex-1" name="templateCtrl.templatePackageForm"
                                                     novalidate="novalidate">
                                                <div class="d-flex flex-1">
                                                    <div class="d-flex m-b-0 justify-content-center flex-1">
                                                        <input id="package_name"
                                                               name="package_name"
                                                               type="text"
                                                               class="m-r-5 form-control input-sm d-block flex-1"
                                                               ng-model="templateCtrl.packageDetails.package_name"
                                                               data-ng-change="templateCtrl.validateForm(templateCtrl.packageDetails,templateCtrl.packageDetails.package_name)"
                                                               placeholder="Enter Name" required>
                                                    </div>
                                                    <button class="btn btn-sm btn-success m-r-5"
                                                            data-ng-if="!templateCtrl.packageDetails.id"
                                                            data-ng-click="templateCtrl.savePackage(templateCtrl.packageDetails);"
                                                            data-ng-disabled="templateCtrl.packageDetails.validationMessage || templateCtrl.templatePackageForm.$invalid || templateCtrl.packageDetails.isProcessing">
                                                        Save
                                                    </button>
                                                    <button class="btn btn-sm btn-success m-r-5"
                                                            data-ng-if="templateCtrl.packageDetails.id"
                                                            data-ng-click="templateCtrl.updatePackage(templateCtrl.packageDetails);"
                                                            data-ng-disabled="templateCtrl.packageDetails.validationMessage || templateCtrl.templatePackageForm.$invalid || templateCtrl.packageDetails.isProcessing">
                                                        Update
                                                    </button>
                                                    <button class="btn btn-sm btn-default m-r-5"
                                                            data-ng-click="templateCtrl.removeTempRow(templateCtrl.packageDetails,'template package');">
                                                        Cancel
                                                    </button>
                                                    <button class="btn btn-sm btn-danger"
                                                            data-ng-if="templateCtrl.packageDetails.id"
                                                            data-ng-click="templateCtrl.showConfirmInline('template package');"
                                                            data-ng-disabled="templateCtrl.packageDetails.isProcessing">
                                                        Delete
                                                    </button>
                                                </div>
                                                <div class="p-t-5"
                                                     data-ng-if="package.id === templateCtrl.packageDetails.id && templateCtrl.packageDetails.validationMessage">
                                                    <span class="text-danger f-500 f-11">{{templateCtrl.packageDetails.validationMessage}}</span>
                                                </div>
                                                <div data-ng-if="templateCtrl.errorMessage">
                                                    <span class="text-danger f-500 f-11">{{templateCtrl.errorMessage}}</span>
                                                </div>
                                            </ng-form>
                                        </div>
                                    </div>
                                    <div class="d-flex d-flex-v-center f-14 template-configure-btn"
                                         style="padding-right:9px">
                                    </div>
                                </div>
                                <div class="m-t-5 m-b-5"
                                     data-ng-if="templateCtrl.isConfirmPackageDelete && templateCtrl.packageDetails.id === package.id"
                                     style="padding-left: 65px; padding-right: 10px;white-space: nowrap;">
                                    <span class="f-300 f-13 m-r-5">Are you sure?</span>
                                    <button class="btn btn-sm btn-danger m-r-5"
                                            data-ng-click="templateCtrl.removePackage(templateCtrl.packageDetails);"
                                            data-ng-disabled="templateCtrl.packageDetails.isProcessing">Yes
                                    </button>
                                    <button class="btn btn-sm"
                                            data-ng-click="templateCtrl.isConfirmPackageDelete = false;">Cancel
                                    </button>
                                </div>
                                <!-- on double click change template package name with inline editing end-->
                            </li>
                            <li data-ng-if="templateCtrl.LoadingMessage && !templateCtrl.templateSku.packages.length"
                                class="d-flex justify-content-between" style="border-bottom:1px solid #ddd">
                                <span class="f-14" style="padding-left:9px;">
                                    {{ templateCtrl.LoadingMessage }}
                                </span>
                            </li>
                            <li data-ng-if="!templateCtrl.LoadingMessage && templateCtrl.packageMessage && !templateCtrl.templateSku.packages.length"
                                class="d-flex justify-content-between" style="border-bottom:1px solid #ddd">
                                <span class="f-14" style="padding-left:9px;">
                                    {{ templateCtrl.packageMessage }}
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>


            </div>
        </div>

        <div data-ng-if="templateCtrl.templateSku.openConfigureOptionTable === true && templateCtrl.templateSku">
            <div class="col-xs-12 p-0">
                <div class="col-xs-12 p-l-10 p-r-10 template-name-header template-name-main-header d-flex justify-content-between d-flex-v-center">
                    <div class="d-flex align-items-center">
                        <svg data-ng-class="{'active-btn' : templateSku.openConfigureOptionTable === true && templateCtrl.templateSku.id === templateSku.id}"
                             height="25px" viewBox="0 -1 512 512" width="17px" xmlns="http://www.w3.org/2000/svg"
                             fill="#000">
                            <path d="m230 213.984375v-144.984375l-115-69-115 69v144.984375l115 69zm-30-16.984375-70 42v-75.015625l70-42zm-170-111.015625 85-51 85 51v1.015625l-85 51-85-51zm70 153.015625-70-42v-75.015625l70 42zm0 0"/>
                            <path d="m397 228-115 69v144.984375l115 69 115-69v-144.984375zm-15 239-70-42v-75.015625l70 42zm100-42-70 42v-75.015625l70-42zm0-110-85 51-85-51v-1.015625l85-51 85 51zm0 0"/>
                            <path d="m412 183.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                            <path d="m412 123.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                            <path d="m352 123.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                            <path d="m292 123.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                            <path d="m130 327.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                            <path d="m130 387.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                            <path d="m190 387.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                            <path d="m250 387.492188c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15c0-8.285157 6.714844-15 15-15s15 6.714843 15 15zm0 0"/>
                        </svg>
                        <span class="p-l-10 f-300 c-black f-16">Options</span>
                    </div>
                    <span>
                        <button class="btn btn-success" data-ng-click="templateCtrl.openCreateForm('Template Option');"
                                data-ng-disabled="templateCtrl.isShowOptionChoiceDetails">
                            <span class="f-700">Add Option</span>
                        </button>
                        <!-- <button class="btn btn-sm btn-danger" data-ng-click="templateCtrl.closeTemplateConfiguration('Template Parameter Choice');templateCtrl.templateSku.openParametersChoiceTable = false; templateCtrl.removeTempRow('template parameter choice');">Close</button> -->
                        <button class="btn btn-cancel"
                                data-ng-click="templateCtrl.closeTemplateConfiguration('template option')">
                            <span class="f-700">Close</span>
                        </button>
                    </span>
                </div>
            </div>
            <div class="col-xs-12 p-0">
                <div class="col-xs-12 p-0">
                    <div class="list-lake-type-container">
                        <ul class="list-lake-types template-configure-row m-0 p-0 list-style-none">
                            <li style="border-bottom:1px solid #f0f0f0;padding:12px 0;background: #fbfbfb;"
                                class="d-flex justify-content-center flex-column align-items-between"
                                data-ng-repeat="optionValue in templateCtrl.templateSku.options | filter : templateCtrl.searchOption | orderBy: ['isNew','parameter_name']">
                                <div class="col-xs-12 p-0">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <div class="d-flex d-flex-v-center f-15 c-black flex-1 cursor-pointer"
                                             ios-dblclick="templateCtrl.dblClickAction(optionValue, 'Template Option');">
                                            <div class="template-row-data">{{ optionValue.option_name}}
                                            </div>
                                        </div>
                                        <div class="d-flex d-flex-v-center f-14 template-configure-btn"
                                             style="padding-right:9px">
                                            <span class="link-color f-500 cursor-pointer fa fa-eye fa-fw f-18"
                                                  title="Parameters" title-direction="top-left"
                                                  data-ng-class="{'active-btn' : optionValue.showLinkedParameterList}"
                                                  data-ng-click="templateCtrl.fetchLinkedParameterByOptionId(optionValue,true);templateCtrl.toggleOptionParameters(optionValue)"></span>
                                            <span class="link-color f-500 cursor-pointer m-l-10"
                                                  data-ng-click="templateCtrl.openTemplateConfiguration(optionValue, 'Template Option Choice');"
                                                  data-ng-class="{'active-btn' : templateCtrl.templateSku.openOptionsChoiceTable === true && templateCtrl.option.id === optionValue.id}">
                                                <span class="fa fa-cog fa-fw f-18" title="Configure Choice" title-direction="top-left"></span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 p-0" data-ng-if="optionValue.showLinkedParameterList">
                                    <div data-ng-if="optionValue.linkedParametersList && optionValue.linkedParametersList.length">
                                        <div class="col-xs-12 p-t-5 p-b-5 m-t-5 f-700"
                                             style="border-bottom: 1px solid #ececec;border-top: 1px solid #ececec;background: #efefef;">
                                            Dependent Parameter[s]
                                        </div>
                                        <div class="col-xs-12 p-t-10"
                                             data-ng-repeat="linkedParameter in optionValue.linkedParametersList">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <span>{{ linkedParameter.parameter_name }}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div data-ng-if="optionValue.linkedParametersList && !optionValue.linkedParametersList.length">
                                        <div class="col-xs-12 p-t-10 d-flex align-items-center justify-content-between">
                                            <span>No Parameter[s] Linked</span>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li data-ng-if="templateCtrl.LoadingMessage && !templateCtrl.templateSku.options.length"
                                class="d-flex justify-content-between" style="border-bottom:1px solid #ddd">
                                <span class="f-14" style="padding-left:9px;">
                                    {{ templateCtrl.LoadingMessage }}
                                </span>
                            </li>
                            <li data-ng-if="!templateCtrl.LoadingMessage && templateCtrl.optionMessage && !templateCtrl.templateSku.options.length"
                                class="d-flex justify-content-between bgm-white p-5"
                                style="border-bottom:1px solid #f0f0f0">
                                <span class="f-14" style="padding-left:9px;">
                                    {{ templateCtrl.optionMessage }}
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-12 p-0" data-ng-if="templateCtrl.templateSku.openOptionsChoiceTable === true">
            <div class="col-xs-12 p-l-10 p-r-10 template-name-header template-name-sub-section-header d-flex justify-content-between d-flex-v-center">
                <div class="d-flex align-items-center">
                    <span class="p-l-10 f-300 c-black f-16">Choices</span>
                </div>
                <span>
                    <button class="btn btn-success" data-ng-disabled="templateCtrl.isShowOptionChoiceDetails"
                            data-ng-click="templateCtrl.openCreateForm('Template Option Choice');">
                        <span class="f-700">Add Choice</span>
                    </button>
                    <button class="btn btn-cancel"
                            data-ng-click="templateCtrl.templateSku.openOptionsChoiceTable = false;">
                        <span class="f-700">Close</span>
                    </button>
                </span>
            </div>
            <div class="col-xs-12 p-0 m-b-0">
                <div class="col-xs-12 p-0 treeview">
                    <div class="list-lake-type-container">
                        <ul class="template-configure-row list-lake-types p-0 list-style-none">
                            <li class="col-xs-12 d-flex flex-column justify-content-between p-0 cursor-pointer"
                                style="border-bottom: 1px solid rgb(240, 240, 240);"
                                data-ng-repeat="(choice, optionChoices) in templateCtrl.option.choices | filter : templateCtrl.searchChoice |orderBy:['isNew','choice'] | groupBy:'choice'"
                                ios-dblclick="templateCtrl.dblClickAction(optionChoices,'Template Option Choice')"
                                data-ng-if="!templateCtrl.choiceMessage && templateCtrl.option.choices.length">
                                <div style="padding:8px;" class="d-flex align-items-center link-color p-l-10"
                                     data-ng-class="{'active-row':templateCtrl.isShowOptionChoiceDetails && templateCtrl.templateOptionChoiceDetails.id === optionChoices[0].id}">
                                    <div class="f-10 ">
                                        <span class="fa fa-chevron-right m-r-5"
                                              data-ng-if="!optionChoices[0].showPackagePriceForOption"
                                              data-ng-click="templateCtrl.togglePackagePriceForOption(optionChoices[0]);"></span>
                                        <span class="fa fa-chevron-down m-r-5"
                                              data-ng-if="optionChoices[0].showPackagePriceForOption"
                                              data-ng-click="templateCtrl.togglePackagePriceForOption(optionChoices[0]);"></span>
                                    </div>
                                    <div class="col-xs-12 p-0 f-14 d-flex align-items-center justify-content-between"
                                         single-click="templateCtrl.togglePackagePriceForOption(optionChoices[0]);"
                                         data-ng-class="{'f-700':optionChoices[0].showPackagePriceForOption}"
                                         data-ng-init="templateCtrl.loadImage(optionChoices[optionChoices.length-1])">
                                        <div class="flex-1"><span>{{ choice }}</span></div>
                                        <div class="flex-1 d-flex" data-ng-if="optionChoices[optionChoices.length-1].skuDetails">
                                            <img class="m-r-5 m-0" check-template-image image-name="sku.svg" ng-src="{{optionChoices[optionChoices.length-1].skuDetails.imgUrl}}" alt="" style="height:35px;width:35px;">
                                            <div style="line-height: 1.5;">
                                                <div>{{optionChoices[optionChoices.length-1].skuDetails.description}}</div>
                                                <div class="f-300 text-muted f-12">{{optionChoices[optionChoices.length-1].skuDetails.sku}}</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 p-0" data-ng-if="optionChoices[0].showPackagePriceForOption"
                                     style="border-bottom:1px dashed #ababab;">
                                    <div class="col-xs-12 p-0 choice-package-header">
                                        <div class="col-xs-12 p-l-20">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <span class="col-xs-4 p-0">Package</span>
                                                <span class="col-xs-8 p-0">Price</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 p-0">
                                        <div class="col-xs-12 p-l-20">
                                            <div class="flex-2 f-14"
                                                 data-ng-repeat="optionChoiceValue in optionChoices">
                                                <div class="d-flex align-items-center justify-content-between"
                                                     data-ng-if="optionChoiceValue.price !== null">
                                                    <span class="col-xs-4 p-0">{{ optionChoiceValue.package_name }}</span>
                                                    <div class="col-xs-8 p-0"
                                                         data-ng-if1="templateCtrl.parameterChoiceDetails.package_id !== choiceValue.package_id || templateCtrl.parameterChoiceDetails.id !== choiceValue.id">
                                                        <span class="f-300 f-14">$</span> {{optionChoiceValue.price |
                                                        DecimalPrecision: 2 }}
                                                    </div>
                                                </div>
                                                <div data-ng-if="optionChoiceValue.price === null">
                                                    <div class="d-flex align-items-center justify-content-between">
                                                        <span class="col-xs-4 p-0">No Packages exists</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li data-ng-if="templateCtrl.LoadingMessage && !templateCtrl.option.choices.length"
                                class="col-xs-12 d-flex justify-content-between"
                                style="border-bottom:1px solid #ddd">
                                <span class="f-14">
                                    {{ templateCtrl.LoadingMessage }}
                                </span>
                            </li>
                            <li data-ng-if="!templateCtrl.LoadingMessage && !templateCtrl.option.choices.length"
                                class="col-xs-12 d-flex justify-content-between"
                                style="border-bottom:1px solid #f0f0f0">
                                <span class="f-14">
                                    {{ templateCtrl.choiceMessage }}
                                </span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div data-ng-include="'./application/modules/template/panel.template.option.html'"></div>

    <div data-ng-include="'./application/modules/template/panel.template.option.choice.html'"></div>

    <div id="refresh-table" class="p-15" data-ng-class="{'toggled':templateCtrl.refreshMessage}">
        <div class="col-xs-6 p-0">
            <span class="f-15 f-300 pull-left">{{templateCtrl.refreshMessage}}</span>
        </div>
    </div>
</div>
