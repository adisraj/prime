<style>
    button:focus {
        outline: 5px auto #6ecaf6 !important
    }
</style>
<div id="rcrightsidebar" class="c-overflow" data-ng-class="{'toggled':financingPriceAdjustmentCtrl.isShowDetails === true || financingPriceAdjustmentCtrl.isShowDetails === 1,'changeposition': financingPriceAdjustmentCtrl.showErrorDetailsData === true || showhistory === true}">
    <div class="col-xs-12 side-panel-name m-t-25">
        <button type="button" class="close-icon bg-none border-none btn-link p-0" data-ng-click="financingPriceAdjustmentCtrl.closeForm(); closeShowHistory();">
            <span class="zmdi zmdi-long-arrow-right zmdi-hc-fw zmdi-hc-3x"></span>
        </button>
        <div class="panel-name-section">
            <label class="rclabel editformlabel" ng-if="(!financingPriceAdjustmentCtrl.isDeleteSuccess && !financingPriceAdjustmentCtrl.isConfirmDelete && financingPriceAdjustmentCtrl.isShowAdd)"
                title="{{financingPriceAdjustmentCtrl.entityInformation.name}}">Create
                <strong>{{financingPriceAdjustmentCtrl.entityInformation.name | truncate :30}}</strong>
            </label>
            <label class="rclabel editformlabel" ng-if="(!financingPriceAdjustmentCtrl.isDeleteSuccess && !financingPriceAdjustmentCtrl.isConfirmDelete && !financingPriceAdjustmentCtrl.isShowAdd)"
                title="{{financingPriceAdjustmentCtrl.entityInformation.name}}">Update
                <strong>{{financingPriceAdjustmentCtrl.entityInformation.name | truncate :30}}</strong>
            </label>
            <label class="rclabel editformlabel" ng-if="(financingPriceAdjustmentCtrl.isDeleteSuccess || financingPriceAdjustmentCtrl.isConfirmDelete && !financingPriceAdjustmentCtrl.isShowAdd)"
                title="{{financingPriceAdjustmentCtrl.entityInformation.name}}">Delete
                <strong>{{financingPriceAdjustmentCtrl.entityInformation.name | truncate :30}}</strong>
            </label>
        </div>
    </div>
    <div class="col-xs-12" ng-if="!financingPriceAdjustmentCtrl.isUnauthorized">
        <div class="d-flex m-t-10 m-b-10" ng-if="financingPriceAdjustmentCtrl.showErrorDetails || !(financingPriceAdjustmentCtrl.isUpdateSuccess || financingPriceAdjustmentCtrl.isSaveSuccess || financingPriceAdjustmentCtrl.isConfirmDelete || financingPriceAdjustmentCtrl.isDeleteSuccess)">
            <div class="m-auto updatepanel">
                <div data-ng-include="'./img/sidebar-icons/finance-price-adjustment.svg'"></div>
            </div>
        </div>
        <div class="form-group col-xs-12 p-0" ng-if="!financingPriceAdjustmentCtrl.showErrorDetails">
            <div ng-if="!(financingPriceAdjustmentCtrl.isUpdateSuccess || financingPriceAdjustmentCtrl.isSaveSuccess || financingPriceAdjustmentCtrl.isConfirmDelete || financingPriceAdjustmentCtrl.isDeleteSuccess)">
                <ng-form name="financingPriceAdjustmentCtrl.financing_price_adjustment_form" role="form" novalidate="novalidate" valdr-type="RULES-128">
                    <div class="form-group" valdr-form-group>
                        <span class="c-red" ng-show="financingPriceAdjustmentCtrl.financing_price_adjustment_form.status_id.$invalid">*
                        </span>
                        <span class="c-green" ng-show="financingPriceAdjustmentCtrl.financing_price_adjustment_form.status_id.$valid">*
                        </span>
                        <label>Status</label>
                        <select id="status_id" name="status_id" class="form-control select-component input-sm" ng-model="financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails.status_id"
                            errorvaluechosen="financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails.status_id_error" ng-options="each.code as each.description disable when (each.code === financingPriceAdjustmentCtrl.statusCodes.Pending.ID && (!financingPriceAdjustmentCtrl.isDeleteSuccess && !financingPriceAdjustmentCtrl.isConfirmDelete && !financingPriceAdjustmentCtrl.isShowAdd)) for each in statuses">
                            <option value="" disabled>Select Status</option>
                        </select>
                    </div>
                    <div class="form-group" valdr-form-group>
                        <span style="color:red;" ng-show="financingPriceAdjustmentCtrl.financing_price_adjustment_form.financing_choice_id.$invalid">*
                        </span>
                        <span style="color:green;" ng-show="financingPriceAdjustmentCtrl.financing_price_adjustment_form.financing_choice_id.$valid">*
                        </span>
                        <label>Financing Choice</label>
                        <select select-dropdown name="financing_choice_id" id="financing_choice_id" ng-options="financingChoice.id as financingChoice.description disable when (financingChoice.status_id === 100 || financingChoice.status_id === 300 || financingChoice.status_id === 500) for financingChoice in financingPriceAdjustmentCtrl.financingChoices"
                            ng-model="financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails.financing_choice_id" class="form-control select-component input-sm"
                            required>
                            <option value="" disabled>Select Financing Choice</option>
                        </select>
                    </div>
                    <div class="form-group" valdr-form-group>
                        <span style="color:red;" ng-show="financingPriceAdjustmentCtrl.financing_price_adjustment_form.pricing_choice_id.$invalid">*
                        </span>
                        <span style="color:green;" ng-show="financingPriceAdjustmentCtrl.financing_price_adjustment_form.pricing_choice_id.$valid">*
                        </span>
                        <label>Pricing Choice</label>
                        <select select-dropdown name="pricing_choice_id" id="pricing_choice_id" ng-options="pricingChoice.id as pricingChoice.description disable when (pricingChoice.status === 100 || pricingChoice.status === 300 || pricingChoice.status === 500) for pricingChoice in financingPriceAdjustmentCtrl.pricingChoices"
                            ng-model="financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails.pricing_choice_id" class="form-control select-component input-sm"
                            required>
                            <option value="" disabled>Select Pricing Choice</option>
                        </select>
                    </div>
                    <div class="form-group" valdr-form-group>
                        <span class="c-red" ng-show="financingPriceAdjustmentCtrl.financing_price_adjustment_form.price_adjustment_percentage.$invalid">*
                        </span>
                        <span class="c-green" ng-show="financingPriceAdjustmentCtrl.financing_price_adjustment_form.price_adjustment_percentage.$valid">*
                        </span>
                        <label>Price Adjustment</label>
                        <div class="input-group" style="width:100%;">
                            <input id="price_adjustment_percentage" name="price_adjustment_percentage" type="text" class="form-control input-sm" ng-model="financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails.price_adjustment_percentage"
                                placeholder="Enter Price Adjustment" errorvaluechosen="financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails.price_adjustment_percentage_error">
                            <span class="input-group-addon percentage-append maintenance-entrylevel-label p-0">
                                %
                            </span>
                        </div>
                    </div>
                    <rcp-edit-form-btns new-form="financingPriceAdjustmentCtrl.isShowAdd" save-fn="financingPriceAdjustmentCtrl.save(financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails);"
                        save-btn-text="financingPriceAdjustmentCtrl.saveBtnText" save-btn-error="financingPriceAdjustmentCtrl.saveBtnError"
                        update-fn="financingPriceAdjustmentCtrl.update(financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails);"
                        update-btn-text="financingPriceAdjustmentCtrl.updateBtnText" update-btn-error="financingPriceAdjustmentCtrl.updateBtnError"
                        confirm-fn="financingPriceAdjustmentCtrl.showconfirm(); closeShowHistory();" confirm-delete="financingPriceAdjustmentCtrl.isConfirmDelete"
                        update-success="financingPriceAdjustmentCtrl.isUpdateSuccess" entity-id="financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails.id"
                        enable-button="financingPriceAdjustmentCtrl.financing_price_adjustment_form.$invalid || financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails.isProcessing"
                        access-permissions="permissionsMap">
                    </rcp-edit-form-btns>
                </ng-form>
            </div>
            <rcp-delete-form data-ng-if="financingPriceAdjustmentCtrl.isConfirmDelete" image-name="finance-price-adjustment.svg" close-fn="financingPriceAdjustmentCtrl.closeForm();"
                delete-fn="financingPriceAdjustmentCtrl.delete(financingPriceAdjustmentCtrl.financingPriceAdjustmentDetails);"
                confirm-delete="financingPriceAdjustmentCtrl.isConfirmDelete">
            </rcp-delete-form>
            <rcp-success-form success-tick="success_tick.svg" create-new-fn="financingPriceAdjustmentCtrl.createAnotherForm();" close-fn="financingPriceAdjustmentCtrl.closeForm();"
                update-success="financingPriceAdjustmentCtrl.isUpdateSuccess" save-success="financingPriceAdjustmentCtrl.isSaveSuccess"
                delete-success="financingPriceAdjustmentCtrl.isDeleteSuccess">
            </rcp-success-form>
            <div class="col-xs-12" ng-if="!financingPriceAdjustmentCtrl.isShowAdd && financingPriceAdjustmentCtrl.isShowHistory" data-ng-include="'./application/templates/history.html'">
            </div>
            <div ng-if="isMaintenance !== true && !financingPriceAdjustmentCtrl.isConfirmDelete && !financingPriceAdjustmentCtrl.isUpdateSuccess && !financingPriceAdjustmentCtrl.isSaveSuccess && !financingPriceAdjustmentCtrl.isDeleteSuccess && !financingPriceAdjustmentCtrl.isShowAdd">
                <button class="f-700 btn-link btn-block m-b-30 tabfocus-btn" data-ng-click="loadHistory();" data-ng-if="!showhistoryloading"
                    data-ng-disabled="showhistory">
                    View History
                </button>
                <div class="col-xs-12 text-center text-info f-500" data-ng-if="showhistoryloading">
                    Loading history...
                </div>
            </div>
        </div>
        <div class="col-lg-12" ng-if="financingPriceAdjustmentCtrl.showErrorDetails">
            <div>
                <h4 class="aligncenter dependency-errorMessage">Cannot be deleted!</h4>
            </div>
            <div class="form-group pull-right m-r-5 m-t-15">
                <button class="btn-secondary waves-effect" ng-click="financingPriceAdjustmentCtrl.closeDependencyList();">
                    <span>
                        <b>Cancel</b>
                    </span>
                </button>
            </div>
        </div>
        <div class="col-xs-12">
            <div data-ng-show="financingPriceAdjustmentCtrl.message" class="alert alert-danger alert-dismissable">
                <button type="button" class="close" data-ng-click="financingPriceAdjustmentCtrl.message = null" aria-hidden="true">&times;</button> {{financingPriceAdjustmentCtrl.message}}
            </div>
        </div>
    </div>
    <div ng-if="financingPriceAdjustmentCtrl.isUnauthorized && (financingPriceAdjustmentCtrl.isShowAdd || !financingPriceAdjustmentCtrl.isShowAdd || financingPriceAdjustmentCtrl.isConfirmDelete)"
        data-ng-include="'./application/templates/restricted.access.compact.html'">
    </div>
</div>
