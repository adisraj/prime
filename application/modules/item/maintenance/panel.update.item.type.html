<style>
    select+.selectize-control .selectize-input input[type="select-one"] {
        width: 100% !important;
    }

    button#create_new_btn {
        display: none;
    }
    .selectize-input.focus{
        border-left: 3px solid #f9c10c !important;
    }
    .update-item-type-icon img.updatesuccessicon {
        margin: 10% 0% 10% 0%!important;
    }

</style>
<div id="rcrightsidebar-large" class="update-item-type-panel" data-ng-init="itemMaintCtrl.initializeUpdateItemForm();itemMaintCtrl.focusChangeItemType();" data-ng-class="{'toggled':itemMaintCtrl.showUpdateItemPanel === true || itemMaintCtrl.showUpdateItemPanel === 1}"
    data-ng-controller="ItemUserDefinedDataController as vmCtrl">
    <div class="col-xs-12 m-t-25">
        <div class="col-xs-1 p-0">
            <button class="btn btn-link f-14" id="close_change_type" ng-disabled="itemMaintCtrl.isSavingItemSku" name="exit_sidebar_link" data-ng-click="itemMaintCtrl.closeUpdateItemPanel()">
                <span class="zmdi zmdi-long-arrow-right zmdi-hc-fw zmdi-hc-3x"></span>
            </button>
        </div>
        <div class="col-xs-11 p-0 text-center">
            <label class="rclabel editformlabel" style="margin-left: -45px;" title="Update Item Type">
                <strong>Update Item Type</strong>
            </label>
        </div>
        <div class="col-xs-12 text-center m-auto updatepanel p-b-10" data-ng-if="!itemMaintCtrl.isUpdateSuccess">
            <div data-ng-include="'./img/sidebar-icons/entity-config-item.svg'"></div>
        </div>
    </div>
    <div class="col-xs-12" data-ng-if="!itemMaintCtrl.isUpdateSuccess">
        <div class="col-xs-12 rc-alert rc-alert-info flex-column m-b-10">
            <div class="col-xs-12 d-flex m-b-5 p-0">
                <div class="rc-alert-icon m-r-10">
                    <span class="zmdi zmdi-alert-polygon" style="font-size:35px;color: #3b5ca3;">
                    </span>
                </div>
                <div style="flex:1;">
                    <div>
                        <div class="f-15 f-700 text-info m-b-5">Changing Item Type</div>
                        <div>
                            <span class="f-14">
                                Changing item type have various side effects which require you to review and configure items and SKUs.
                                <details>
                                    <button type="button" class="bg-none border-none">
                                        <span class="text-primary f-15 f-300 cursor-pointer">Details</span>
                                    </button>
                                    <ul>
                                        <li class="m-t-10">
                                            <span class="c-firebrick f-700">Step 1 </span>&#8674;
                                            <span class="bg-primary c-white" style="padding:3px 5px; border:1px dotted">
                                                Normalising Item Collection
                                            </span>
                                            <ol>
                                                <li>
                                                    Based on
                                                    <strong>allow collection flag</strong> of the source and target item types the
                                                    item collection need to be reconfigured
                                                </li>
                                                <li>
                                                    If the source item type have
                                                    <strong>allow collection flag</strong>
                                                    set as
                                                    <span class="f-700 c-green">True</span> and target item type have allow collection flag set as
                                                    <span class="f-700 c-red">False</span> then the collection will be removed after successful item
                                                    type change.</li>
                                                <li>
                                                    If the source item type have
                                                    <strong>allow collection flag</strong>
                                                    set as
                                                    <span class="f-700 c-red">False</span> and target item type have allow collection flag set as
                                                    <span class="f-700 c-green">True</span> then you need to select a new collection while item type
                                                    change process.
                                                </li>
                                            </ol>
                                        </li>
                                        <li class="m-t-10">
                                            <span class="c-firebrick f-700">Step 2 </span>&#8674;
                                            <span class="bg-primary c-white" style="padding:3px 5px; border:1px dotted">
                                                Normalising Item Level User Defined Data
                                            </span>
                                            <ol>
                                                <li>
                                                    The user defined data which are
                                                    <strong>common between source and target item types</strong>
                                                    are displayed and if required those can be changed.
                                                </li>
                                                <li>
                                                    The user defined data which are
                                                    <strong>not common between source and target item types</strong>
                                                    are displayed with default value which is set during item type configuration.
                                                </li>
                                            </ol>
                                        </li>
                                        <li class="m-t-10">
                                            <span class="c-firebrick f-700">Step 3 </span>&#8674;
                                            <span class="bg-primary c-white" style="padding:3px 5px; border:1px dotted">
                                                Normalising SKU Level User Defined Data
                                            </span>
                                            <ol>
                                                <li>
                                                    You can select each SKUs and configure the user defined field and publish.
                                                </li>
                                                <li>
                                                    You can publish with out configuring SKU user defined fields, which will reset the SKU user defined field.
                                                </li>
                                                <li>
                                                    You can publish with configuring default values for the item type and publish.
                                                </li>
                                            </ol>
                                        </li>
                                        <li class="m-t-10">
                                            <span class="c-firebrick f-700">Step 4 </span>&#8674;
                                            <span class="bg-primary c-white" style="padding:3px 5px; border:1px dotted">
                                                Normalising Retails
                                            </span>
                                            <ol>
                                                <li>
                                                    There are no changes made to the retails.
                                                </li>
                                            </ol>
                                        </li>
                                    </ul>
                                </details>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Choose type && Collection section starts -->
        <div class="col-xs-12 p-0">
            <div class="col-lg-12 p-0 m-t-10">
                <div class="col-lg-12 p-0">
                    <div class="form-group" valdr-form-group>
                        <label class="maintenance-field-label">Item Type</label>
                        <select data-ng-if="selectItemType && allTypes && allTypes.length>0" selectize="selectItemType" name="type_id" id="type_id"
                            items="head" class="form-control select-component input-sm" options="allTypes" ng-model="head.new_type_id"
                            ng-disabled="itemMaintCtrl.isSavingItemSku" ng-change="itemMaintCtrl.fetchItemUdds();itemMaintCtrl.focusCollection();itemMaintCtrl.loadCollectionVal(head.new_type_id, false);"
                            required>
                        </select>
                    </div>
                    <div data-ng-if="!itemMaintCtrl.isClosingUpdateTypePanel&&head.old_type_id===head.new_type_id">
                        <span class="text-danger">This item already has the selected the item type. Please change the item type.</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-12 p-0">
                <div class="col-lg-12 p-0 form-group" ng-if="is_collection === true && head.vendor_id && head.new_type_id">
                    <div class="d-flex align-items-center">
                        <div class="form-group flex-1 m-r-5" valdr-form-group>
                            <span class="c-green">* </span>
                            <label class="maintenance-field-label">Collection</label>
                            <div class="form-group" valdr-form-group>
                                <select name="collection_id" id="collection_id" class="form-control select-component input-sm" ng-options="each.collection_id as each.collection + ' : ' + each.status disable when (each.status_code === itemMaintCtrl.statusCodes.Inactive.ID) for each in itemMaintCtrl.allCollections"
                                    ng-model="head.collection_id" ng-disabled="itemMaintCtrl.isSavingItemSku" errorvaluechosen="head.collection_id_error"
                                    data-ng-change="itemMaintCtrl.fetchItemUdds();">
                                    <option value="" disabled>Select Collection</option>
                                </select>
                            </div>
                        </div>
                        <button class="aligncenter btn-inverse btn-primal btn-block btn-sm f-700 m-r-5 m-t-0" ng-click="head.collection_id = null; head.collection = '';"
                            ng-disabled="!head.collection_id" style="width:125px;">Reset</button>
                        <button class="aligncenter btn-primal btn-primal btn-block btn-sm f-700 m-t-0" id="add_collection_panel" ng-click="itemMaintCtrl.openForm('ItemCollections')"
                            ng-disabled="itemMaintCtrl.isSavingItemSku" style="width:125px;">Add New Collection</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Choose type && Collection section ends -->

        <div class="col-xs-12 p-0 d-flex m-b-10 justify-content-between">
            <div class="d-flex">
                <div class="selection-tab" data-ng-class="{'active':itemMaintCtrl.isShowCommonUdds}">
                    <span class="step-number">1</span>Common UDD</div>
                <div class="selection-tab" data-ng-class="{'active':itemMaintCtrl.isShowItemUdds}">
                    <span class="step-number">2</span>Item UDD</div>
                <div class="selection-tab" data-ng-class="{'active':itemMaintCtrl.isShowItemSkus || itemMaintCtrl.isShowItemSkuUdds}">
                    <span class="step-number">3</span>SKU UDD</div>
            </div>
            <div>
                <button class="aligncenter btn-primal btn-sm f-700 m-t-0" id="go_back" data-ng-if="itemMaintCtrl.isShowCommonUdds || itemMaintCtrl.isShowItemUdds || itemMaintCtrl.isShowItemSkus || itemMaintCtrl.isShowItemSkuUdds"
                    ng-click="itemMaintCtrl.goToPreviousTab()" data-ng-disabled="itemMaintCtrl.isShowCommonUdds || itemMaintCtrl.isSavingItemSku"
                    style="width:125px;">Go Back</button>
            </div>
        </div>

        <!-- Common UDDs START -->
        <div class="col-xs-12 p-10 text-center" data-ng-if="!vmCtrl.isUddLoaded && itemMaintCtrl.isShowCommonUdds">
            <span>Loading Common UDDs...</span>
        </div>
        <div data-ng-if="vmCtrl.isUddLoaded && itemMaintCtrl.isShowCommonUdds">
            <div class="col-xs-12 rc-alert rc-alert-info flex-column m-b-10">
                <div class="col-xs-12 d-flex m-b-5 p-0">
                    <div class="rc-alert-icon m-r-10">
                        <span class="zmdi zmdi-alert-polygon" style="font-size:35px;color: #ff6c3c;">
                        </span>
                    </div>
                    <div style="flex:1;">
                        <div>
                            <div class="f-15 f-700 text-info m-b-5">UDDs will be copied!</div>
                            <div>
                                <span class="f-14">
                                    <strong>Common UDDs</strong> of "{{head.department_tree_path}}" will be copied into "{{head.primary_item_type_path}}"
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 p-0 box">
                <div class="col-lg-12 p-0">
                    <div class="col-xs-12 p-10 text-info" data-ng-if="!vmCtrl.isLoadingCommonUdds&&vmCtrl.commonAttributes.length===0">
                        <span>No Common UDDs found.</span>
                    </div>
                    <ng-form data-ng-if="!vmCtrl.isLoadingCommonUdds&&vmCtrl.commonAttributes&&vmCtrl.commonAttributes.length>0" class="udd-screen-form"
                        name="itemMaintCtrl.commonupdateuddForm" novalidate valdr-type="UddRules">
                        <div class="col-xs-12 p-10">
                            <div class="form-group col-xs-12 p-0" ng-repeat="each in vmCtrl.commonAttributes | orderBy : 'display_sequence' track by each.id">
                                <div data-ng-if="each.visibility_id.includes(vmCtrl.primeVisibilityId)">
                                    <script type="text/ng-template" id="itementrylevel.html">
                                        <span class="c-bluegray f-12"> {{each.entry_level}} </span>
                                    </script>
                                    <div class="col-lg-12 p-0 form-group" ng-if="each.has_values == 1 && ( each.format.toLowerCase() === 'list of values' || each.format.toLowerCase() === 'value list' || each.format.toLowerCase() === 'rating' || each.format.toLowerCase() === 'multiselect' )">
                                        <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                        </label>
                                        <div class="input-group d-flex align-items-center">
                                            <span class="input-group-addon bgm-floralwhite" ng-class="{'significant-attr':each.significant === 1}">
                                                <div ng-include="each.requiredImgScript"></div>
                                            </span>
                                            <div class="input-group" style="width:89%;float:left;">
                                                <span class="input-group-addon maintenance-entrylevel-label">
                                                    <div ng-include="'itementrylevel.html'"></div>
                                                </span>
                                                <select data-ng-if="each.format.toLowerCase() !== 'multiselect'" name="{{each.maintenance_description}}" selectize="selectUddDropDown[each.maintenance_description]"
                                                    items="each" class="dropdown-to-label" options="each.values" ng-model="each.udd_value_id"
                                                    data-ng-init="vmCtrl.initDropDown(each)" data-ng-required="each.isRequired"
                                                    data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.maintenance_description].$invalid && itemMaintCtrl.isInvalidForm}">
                                                </select>
                                                <multiselect data-ng-if="each.format.toLowerCase() == 'multiselect'" data-ng-init="each.selectedValueIds = setMultiselectValue(each.to_from_val, each.value)"
                                                    name="{{each.maintenance_description}}" ng-model="each.selectedValueIds"
                                                    options="selecteach.id as selecteach.description for selecteach in each.values"
                                                    select-limit="100" header="Select {{each.maintenance_description}}" selected-header="options selected"
                                                    data-ng-required="each.isRequired" multiple="true" enable-filter="true" data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.maintenance_description].$invalid && itemMaintCtrl.isInvalidForm}">
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 p-0 form-group checkbox" ng-if="each.format.toLowerCase() === 'yes/no'">
                                        <label title="{{each.maintenance_description}}" title-direction="top" class="p-0 maintenance-field-label m-b-3 text-overflow-desc-auto">{{each.maintenance_description}}
                                        </label>
                                        <div class="input-group d-flex align-items-center">
                                            <span class="input-group-addon bgm-floralwhite">
                                                <div ng-include="each.requiredImgScript"></div>
                                            </span>
                                            <div class="input-group" style="width:89%;float:left;">
                                                <span class="input-group-addon input-sm maintenance-entrylevel-label border-right-input">
                                                    <div ng-include="'itementrylevel.html'"></div>
                                                </span>
                                                <label class="m-5">
                                                    <input type="checkbox" ng-model="each.value" ng-init="each.value = setValue(each.to_from_val, each.value);" ng-true-value="'1'"
                                                        ng-false-value="'0'" name="checkbox" data-ng-required="each.isRequired">
                                                    <i class="input-helper"></i>
                                                </label>
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>
                                    </div>
                                    <!--URL Attribute UDD Start-->
                                    <div class="col-lg-12 form-group height70" ng-if="each.format.toLowerCase() === 'url'" valdr-form-group data-ng-init="vmCtrl.setLinkTextAndUrlPathModel(each)">
                                        <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top"
                                            style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" data-ng-class="{'f-700' : each.significant ===1,'c-black' : each.significant ===1}">{{each.maintenance_description}}</label>
                                        <div class="col-xs-12 p-0 input-group">
                                            <div class="d-flex" style="width:96%;float:left;">
                                                <span class="input-group-addon bgm-floralwhite" ng-class="{'significant-attr':each.significant ===1}">
                                                    <div ng-include="each.requiredImgScript"></div>
                                                </span>
                                                <div class="d-flex input-group" style="width:97%;float:left;">
                                                    <span class="d-flex align-items-center justify-content-center input-group-addon maintenance-entrylevel-label p-0">
                                                        <div ng-include="'itementrylevel.html'"></div>
                                                    </span>
                                                    <span class="d-flex align-items-center justify-content-center input-group-addon maintenance-entrylevel-label p-0" style="border-left: 1px solid #ececec;">
                                                        <span class="f-13 c-bluegray">Text</span>
                                                    </span>
                                                    <div valdr-enabled="false">
                                                        <input class="form-control input-sm" name="{{each.map_id}}link_text_value" id="{{each.map_id}}" ng-model="each.link_text_value"
                                                            data-ng-change="vmCtrl.isLinkValid();each.value=each.link_text_value+'::'+each.url_path_value"
                                                            data-ng-class="{'error-field-validation': each.is_valid_link_text}"
                                                            type="text" />
                                                    </div>
                                                    <div class="d-flex align-items-center">
                                                        <img class="m-r-5 m-l-5" src="./img/right-arrow.svg" style="width:35px;height:18px;" alt="">
                                                    </div>
                                                    <div class="d-flex flex-1 input-group">
                                                        <span class="d-flex align-items-center justify-content-center input-group-addon maintenance-entrylevel-label p-0">
                                                            <span class="f-13 c-bluegray">URL</span>
                                                        </span>
                                                        <input class="form-control input-sm" name="{{each.map_id}}" id="each.map_id" ng-model="each.url_path_value" data-ng-change="each.value=each.link_text_value+'::'+each.url_path_value"
                                                            data-ng-focus="itemMaintCtrl.commonupdateuddForm[each.map_id].$touched = true;"
                                                            type="text" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}"
                                                            style="height: 30px" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:3%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>
                                        <div class="col-sm-12 p-0 info-msg" title="{{each.message}}" style="overflow: hidden; text-overflow: ellipsis;" data-ng-if="(!Object.keys(itemMaintCtrl.commonupdateuddForm[each.map_id].$error).length && !itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid) || itemMaintCtrl.commonupdateuddForm[each.map_id].$pristine">
                                            {{each.message}}</div>
                                    </div>
                                    <!--URL Attribute UDD End-->
                                    <div class="col-lg-12 p-0 form-group" ng-if="each.format.toLowerCase() === 'percentage'">
                                        <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                        </label>
                                        <div class="input-group d-flex align-items-center">
                                            <span class="input-group-addon bgm-floralwhite">
                                                <div ng-include="each.requiredImgScript"></div>
                                            </span>
                                            <div class="input-group" style="width:89%;float:left;">
                                                <span class="input-group-addon input-sm maintenance-entrylevel-label border-right-input">
                                                    <div ng-include="'itementrylevel.html'"></div>
                                                </span>
                                                <input data-ng-if="each.format.toLowerCase() === 'percentage'" class="form-control input-sm" name="{{each.map_id}}" id="each.map_id"
                                                    ng-model="each.value" data-ng-focus="itemMaintCtrl.commonupdateuddForm[each.map_id].$touched = true;"
                                                    type="text" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}"
                                                />
                                                <span class="input-group-addon percentage-append maintenance-entrylevel-label p-0" data-ng-if="each.format.toLowerCase() === 'percentage'">
                                                    %
                                                </span>
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>

                                        <div class="col-sm-12 p-0 info-msg" data-ng-if="(!Object.keys(itemMaintCtrl.commonupdateuddForm[each.map_id].$error).length && !itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid) || itemMaintCtrl.commonupdateuddForm[each.map_id].$pristine">
                                            {{each.message}}</div>
                                        <div class="col-sm-12 p-0 text-danger" data-ng-if="!((!Object.keys(itemMaintCtrl.commonupdateuddForm[each.map_id].$error).length && !itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid) || itemMaintCtrl.commonupdateuddForm[each.map_id].$pristine)">
                                            {{each.message}}</div>
                                    </div>
                                    <div class="col-lg-12 p-0 form-group" ng-if="each.format.toLowerCase() === 'date'" ng-init="each.value = setDateValue(each.to_from_val, each.value);"
                                        valdr-form-group>
                                        <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                        </label>
                                        <div class="input-group d-flex align-items-center">
                                            <span class="input-group-addon bgm-floralwhite">
                                                <div ng-include="each.requiredImgScript"></div>
                                            </span>
                                            <div class="input-group" style="width:89%;float:left;" data-ng-if="each.value">
                                                <span class="input-group-addon maintenance-entrylevel-label">
                                                    <div ng-include="'itementrylevel.html'"></div>
                                                </span>
                                                <input type="text" name="{{each.map_id}}" id="{{each.map_id}}" class="form-control input-sm rcp-mydatepicker" ng-model="each.value"
                                                    ui-mask="{{ui_date_mask}}" mydatepicker ng-model-options="{ updateOn: 'blur' }"
                                                    model-view-value="true" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}">
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>
                                        <div class="col-sm-12 p-0 info-msg" data-ng-if="(!Object.keys(itemMaintCtrl.commonupdateuddForm[each.map_id].$error).length && !itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid) || itemMaintCtrl.commonupdateuddForm[each.map_id].$pristine">
                                            {{each.message}}</div>
                                    </div>
                                    <div class="col-lg-12 form-group" ng-if="each.format.toLowerCase() === 'date range'" ng-init="each.value = setDateValue(each.to_from_val, each.value);"
                                        valdr-form-group>
                                        <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                        </label>
                                        <div class="input-group d-flex align-items-center">
                                            <span class="input-group-addon bgm-floralwhite">
                                                <div ng-include="each.requiredImgScript"></div>
                                            </span>
                                            <div class="input-group d-flex" style="width:89%;float:left;">
                                                <span class="input-group-addon maintenance-entrylevel-label">
                                                    <div ng-include="'itementrylevel.html'"></div>
                                                </span>
                                                <input type="text" name="{{each.map_id}}-1" id="{{each.map_id}}-1" class="form-control input-sm rcp-mydatepicker m-r-5" ng-model="each.from_date_value"
                                                    ui-mask="{{ui_date_mask}}" mydatepicker ng-model-options="{ updateOn: 'blur' }"
                                                    model-view-value="true" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': (itemMaintCtrl.commonupdateuddForm[each.map_id+'-1'].$invalid || itemMaintCtrl.commonupdateuddForm[each.map_id+'-2'].$invalid) && itemMaintCtrl.isInvalidForm}"
                                                    data-ng-change="vmCtrl.addValidations(each, itemMaintCtrl.commonupdateuddForm)">
                                                <input type="text" name="{{each.map_id}}-2" id="{{each.map_id}}-2" class="form-control input-sm rcp-mydatepicker m-l-5" ng-model="each.to_date_value"
                                                    ui-mask="{{ui_date_mask}}" mydatepicker ng-model-options="{ updateOn: 'blur' }"
                                                    model-view-value="true" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': (itemMaintCtrl.commonupdateuddForm[each.map_id+'-1'].$invalid || itemMaintCtrl.commonupdateuddForm[each.map_id+'-2'].$invalid) && itemMaintCtrl.isInvalidForm}"
                                                    data-ng-change="vmCtrl.addValidations(each, itemMaintCtrl.commonupdateuddForm)">
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>
                                        <div data-ng-if="each.showError">
                                            <span style="display: block; font-size: 11px; color: #e41708; font-family: 'lato', 'Roboto'; margin: 3px 1px 1px 1px;">To date must be greater than From date.</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 p-0 form-group" ng-if="each.user_defined_data_type.toLowerCase() === 'optiontype'">
                                        <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                        </label>
                                        <div class="input-group d-flex align-items-center">
                                            <span class="input-group-addon bgm-floralwhite">
                                                <div ng-include="each.requiredImgScript"></div>
                                            </span>
                                            <div class="input-group" style="width:89%;float:left;">
                                                <span class="input-group-addon maintenance-entrylevel-label">
                                                    <div ng-include="'itementrylevel.html'"></div>
                                                </span>
                                                <select data-ng-if="each.format.toLowerCase() !== 'multiselect'" name="{{each.maintenance_description}}" selectize="selectMTOUddDropDown[each.maintenance_description]"
                                                    items="each" class="dropdown-to-label" options="each.values" ng-model="each.udd_value_id"
                                                    data-ng-init="vmCtrl.initOptionTypeDropDown(each)" data-ng-required="each.isRequired"
                                                    data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.maintenance_description].$invalid && itemMaintCtrl.isInvalidForm}">
                                                </select>
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 p-0 form-group" ng-if="each.user_defined_data_type.toLowerCase() === 'option'">
                                        <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                        </label>
                                        <div class="input-group d-flex align-items-center">
                                            <span class="input-group-addon bgm-floralwhite">
                                                <div ng-include="each.requiredImgScript"></div>
                                            </span>
                                            <div class="input-group" style="width:89%;float:left;">
                                                <span class="input-group-addon maintenance-entrylevel-label">
                                                    <div ng-include="'itementrylevel.html'"></div>
                                                </span>
                                                <select name="{{each.maintenance_description}}" selectize="selectMTOChoiceUddDropDown[each.maintenance_description]" items="each"
                                                    class="dropdown-to-label" options="each.values" ng-model="each.udd_value_id"
                                                    data-ng-init="vmCtrl.initChoiceDropDown(each)" data-ng-required="each.isRequired"
                                                    data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.maintenance_description].$invalid && itemMaintCtrl.isInvalidForm}">
                                                </select>
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 p-0 form-group" ng-if="each.format.toLowerCase() === 'integer' || each.format.toLowerCase() === 'number select' || each.format.toLowerCase() === 'decimal' || each.format.toLowerCase() === 'dimension' || each.format.toLowerCase() === 'text'"
                                        valdr-form-group>
                                        <label title="{{each.maintenance_description}}" title-direction="top" class="p-0 maintenance-field-label text-overflow-desc-auto">{{each.maintenance_description}}
                                        </label>
                                        <div class="input-group d-flex align-items-center">
                                            <span class="input-group-addon bgm-floralwhite">
                                                <div ng-include="each.requiredImgScript"></div>
                                            </span>
                                            <div class="input-group" style="width:89%;float:left;">
                                                <span class="input-group-addon maintenance-entrylevel-label">
                                                    <div ng-include="'itementrylevel.html'"></div>
                                                </span>
                                                <input data-ng-if="each.format.toLowerCase() !== 'text'" class="form-control input-sm" name="{{each.map_id}}" id="each.map_id"
                                                    ng-model="each.value" type="text" data-ng-required="each.isRequired" data-ng-focus="itemMaintCtrl.commonupdateuddForm[each.map_id].$touched = true;"
                                                    data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}"
                                                />
                                                <textarea data-ng-if="each.format.toLowerCase() === 'text'" class="form-control input-sm" name="{{each.map_id}}" id="each.map_id"
                                                    ng-model="each.value" data-ng-required="each.isRequired" data-ng-focus="itemMaintCtrl.commonupdateuddForm[each.map_id].$touched = true;"
                                                    data-ng-class="{'error-field-validation': itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}"
                                                    style="height: 30px;"></textarea>
                                            </div>
                                            <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:left;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                        </div>
                                        <div class="col-sm-12 p-0 info-msg text-overflow-desc-auto" title="{{each.message}}" data-ng-if="(!Object.keys(itemMaintCtrl.commonupdateuddForm[each.map_id].$error).length && !itemMaintCtrl.commonupdateuddForm[each.map_id].$invalid) || itemMaintCtrl.commonupdateuddForm[each.map_id].$pristine">
                                            {{each.message}}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" ng-repeat="each in vmCtrl.commonHierarchyUDDs | orderBy : 'display_sequence' track by each.id">
                                <label class="p-0 maintenance-field-label" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}} </label>
                                <div class="input-group d-flex align-items-center">
                                    <span class="input-group-addon bgm-floralwhite">
                                        <div ng-include="each.requiredImgScript"></div>
                                    </span>
                                    <div class="input-group" style="width:89%;float:left;">
                                        <span class="input-group-addon maintenance-entrylevel-label">
                                            <div ng-include="'itementrylevel.html'"></div>
                                        </span>
                                        <input type="text" hidden="hidden" for="each.map_id" data-ng-model="selectedHierarchyProperty[each.map_id].property_id" data-ng-required="each.isRequired">
                                        <hierarchy-tree-view-select id="each.map_id" name="each.map_id" value-id="each.udd_value_id" props="each.props" selected-hierarchy-property="selectedHierarchyProperty"
                                            set-property-fn="setPropertyFn(directiveData);" form-header="{{each.maintenance_description}}"
                                            data-ng-class="{'error-field-validation': each.isRequired && !selectedHierarchyProperty[each.map_id].property_id && itemMaintCtrl.isInvalidForm}">
                                        </hierarchy-tree-view-select>
                                        <!-- <hierarchy-tree-view primary-hierarchy-id="each.map_id" path="each.primary_item_hierarchy_value_path"
                                                primary-hierarchy-value-id="each.udd_value_id"
                                                directive-end-fn='end(directiveData)' enable-valdr-validation
                                                enable-valdr-message form-data="each" form-header="{{each.maintenance_description}}"
                                                clear-path="itemMaintCtrl.clearPath"
                                                data-ng-class="{'error-field-validation': !head.primary_item_hierarchy_value_id && itemMaintCtrl.isInvalidForm}"></hierarchy-tree-view> -->
                                    </div>
                                    <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 m-t-10 p-0 maintenanceworkspace noboxshadow" data-ng-if="itemMaintCtrl.commonvalidationMessage">
                            <div class="col-xs-12">
                                <div class="rc-alert rc-alert-type-info type-error" aria-hidden="false" role="alert">
                                    <div class="col-xs-12 d-flex m-b-5 p-0">
                                        <div class="rc-alert-icon">
                                            <span class="text-danger zmdi zmdi-alert-octagon" style="font-size:35px" title="Error message" title-direction="bottom" fixed-position="true">
                                            </span>
                                        </div>
                                        <div style="flex:1;">
                                            <div class="f-15 f-700 text-danger">Error!</div>
                                            <div>
                                                <span class="c-black">{{itemMaintCtrl.commonvalidationMessage}}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-form>
                    <div class="col-xs-12 p-10 d-flex" style1="margin-bottom: 110px">
                        <button type="button" class="btn btn-group-justified btn-sm btn-success f-700 waves-effect" data-ng-click="itemMaintCtrl.showScreen('itemUdds');" data-ng-disabled="vmCtrl.isLoadingCommonUdds">Next</button>
                        <button type="button" class="btn btn-group-justified btn-sm btn-inverse f-700 m-l-5 m-t-0 waves-effect" data-ng-click="itemMaintCtrl.closeUpdateItemPanel();">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Common UDDs END -->

        <!-- Item UDDs START -->
        <div class="col-xs-12 p-10 text-center" data-ng-if="!vmCtrl.isUddLoaded && itemMaintCtrl.isShowItemUdds">
            <span>Loading Item UDDs...</span>
        </div>
        <div data-ng-if="vmCtrl.isUddLoaded && itemMaintCtrl.isShowItemUdds" class="col-xs-12 p-0 box">
            <div class="col-xs-12 section-header">
                <span>
                    <strong>Configure UDDs</strong> for <span ng-bind-html="head.primary_item_type_path"></span> </span>
            </div>
            <div class="col-lg-12 p-0">
                <ng-form class="udd-screen-form" name="itemMaintCtrl.updateuddForm" novalidate valdr-type="UddRules">
                    <div class="col-xs-12 p-10 text-info" data-ng-if="vmCtrl.item_udd_data.length===0">
                        <span>No Item Udds available.</span>
                    </div>
                    <div class="col-xs-12 p-0" data-ng-if="vmCtrl.item_udd_data.length>0">
                        <div class="col-xs-12 p-0 form-group" ng-repeat="each in vmCtrl.item_udd_data | orderBy : 'display_sequence'" ng-if="!vmCtrl.commonAttributesIds.includes(each.id)&&!vmCtrl.commonHierarchyIds.includes(each.id)">
                            <div data-ng-if="each.visibility_id.includes(vmCtrl.primeVisibilityId) && each.entry_level !== 'Collection'">
                                <script type="text/ng-template" id="itementrylevel.html">
                                    <span class="c-bluegray f-12"> {{each.entry_level}} </span>
                                </script>
                                <div class="col-lg-12 form-group" ng-if="each.has_values == 1 && ( each.format.toLowerCase() === 'list of values' || each.format.toLowerCase() === 'value list' || each.format.toLowerCase() === 'rating' || each.format.toLowerCase() === 'multiselect' )">
                                    <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite" ng-class="{'significant-attr':each.significant === 1}">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group" style="width:89%;float:left;">
                                            <span class="input-group-addon maintenance-entrylevel-label">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <select data-ng-if="each.format.toLowerCase() !== 'multiselect'" name="{{each.maintenance_description}}" selectize="selectUddDropDown[each.maintenance_description]"
                                                items="each" class="dropdown-to-label" options="each.values" ng-model="each.udd_value_id"
                                                data-ng-init="vmCtrl.initDropDown(each)" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.maintenance_description].$invalid && itemMaintCtrl.isInvalidForm}">
                                            </select>
                                            <multiselect data-ng-if="each.format.toLowerCase() == 'multiselect'" data-ng-init="each.selectedValueIds = setMultiselectValue(each.to_from_val, each.value)"
                                                name="{{each.maintenance_description}}" ng-model="each.selectedValueIds" options="selecteach.id as selecteach.description for selecteach in each.values"
                                                select-limit="100" header="Select {{each.maintenance_description}}" selected-header="options selected"
                                                data-ng-required="each.isRequired" multiple="true" enable-filter="true" data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.maintenance_description].$invalid && itemMaintCtrl.isInvalidForm}">
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                </div>
                                <!--URL Attribute UDD Start-->
                                <div class="col-lg-12 height70 form-group" ng-if="each.format.toLowerCase() === 'url'" valdr-form-group data-ng-init="vmCtrl.setLinkTextAndUrlPathModel(each)">
                                    <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top"
                                        style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" data-ng-class="{'f-700' : each.significant ===1,'c-black' : each.significant ===1}">
                                        {{each.maintenance_description}}
                                    </label>
                                    <div class="col-xs-12 p-0 input-group">
                                        <div style="width:96%;float:left;">
                                            <div class="d-flex input-group" data-ng-init="each.link_text_value = setLinkTextValue(each.to_from_val, each.value); each.url_path_value = setUrlPathValue(each.to_from_val, each.value);">
                                                <div class="col-xs-6 col-lg-8 p-0 d-flex">
                                                    <span class="input-group-addon bgm-floralwhite" ng-class="{'significant-attr':each.significant === 1}">
                                                        <div ng-include="each.requiredImgScript"></div>
                                                    </span>
                                                    <span style="border-left: 1px solid #e2e2e2;" class="d-flex align-items-center justify-content-center input-group-addon maintenance-entrylevel-label p-0">
                                                        <div ng-include="'itementrylevel.html'"></div>
                                                    </span>
                                                    <span class="d-flex align-items-center justify-content-center input-group-addon maintenance-entrylevel-label p-0" style="border-left: 1px solid #ececec;">
                                                        <span class="f-13 c-bluegray">Text</span>
                                                    </span>
                                                    <div valdr-enabled="false" class="w-100">
                                                        <input class="form-control input-sm" name="{{each.map_id}}link_text_value" id="{{each.map_id}}" ng-model="each.link_text_value"
                                                            ng-pattern="itemMaintCtrl.globalRegularExpression" data-ng-change="each.value = each.link_text_value+'::'+each.url_path_value"
                                                            data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.map_id+'link_text_value'].$invalid}"
                                                            type="text" />
                                                    </div>
                                                </div>

                                                <div class="col-xs-1 justify-content-center d-flex">
                                                    <div class="d-flex align-items-center">
                                                        <img class="m-r-5 m-l-5" src="./img/right-arrow.svg" style="width:35px;height:18px;" alt="">
                                                    </div>
                                                </div>
                                                <div class="col-xs-6 p-0 d-flex">
                                                    <div class="d-flex flex-1 input-group">
                                                        <span class="d-flex align-items-center justify-content-center input-group-addon maintenance-entrylevel-label p-0">
                                                            <span class="f-13 c-bluegray">URL</span>
                                                        </span>
                                                        <input class="form-control input-sm" name="{{each.map_id}}" id="each.map_id" ng-model="each.url_path_value" data-ng-change="each.value=each.link_text_value+'::'+each.url_path_value"
                                                            data-ng-focus="itemMaintCtrl.updateuddForm[each.map_id].$touched = true;"
                                                            type="text" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}"
                                                            style="height: 30px" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:3%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                    <div class="col-sm-12 p-0 info-msg text-overflow-desc-auto" title="{{each.message}}" data-ng-class="{'c-deeporange' : itemMaintCtrl.updateuddForm[each.map_id+'link_text_value'].$invalid}"
                                        style="color: #8f96a9;" data-ng-if="(!Object.keys(itemMaintCtrl.updateuddForm[each.map_id].$error).length && !itemMaintCtrl.updateuddForm[each.map_id].$invalid) || itemMaintCtrl.updateuddForm[each.map_id].$pristine">
                                        {{each.message}}</div>
                                </div>
                                <!--URL Attribute UDD End-->
                                <div class="col-lg-12 form-group checkbox" ng-if="each.format.toLowerCase() === 'yes/no'">
                                    <label class="p-0 maintenance-field-label m-b-3 text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group" style="width:89%;float:left;">
                                            <span class="input-group-addon input-sm maintenance-entrylevel-label border-right-input">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <label class="m-5">
                                                <input type="checkbox" ng-model="each.value" ng-init="each.value = setValue(each.to_from_val, each.value);" ng-true-value="'1'"
                                                    ng-false-value="'0'" name="checkbox" data-ng-required="each.isRequired">
                                                <i class="input-helper"></i>
                                            </label>
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                </div>
                                <div class="col-lg-12 form-group" ng-if="each.format.toLowerCase() === 'percentage'">
                                    <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group" style="width:89%;float:left;">
                                            <span class="input-group-addon input-sm maintenance-entrylevel-label">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <input data-ng-if="each.format.toLowerCase() === 'percentage'" class="form-control input-sm" name="{{each.map_id}}" id="each.map_id"
                                                ng-init="each.value = setPercentValue(each.to_from_val, each.from, each.value);"
                                                ng-model="each.value" data-ng-focus="itemMaintCtrl.updateuddForm[each.map_id].$touched = true;"
                                                type="text" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}"
                                            />
                                            <span class="input-group-addon percentage-append maintenance-entrylevel-label p-0" data-ng-if="each.format.toLowerCase() === 'percentage'">
                                                %
                                            </span>
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                    <div class="col-sm-12 p-0 info-msg text-overflow-desc-auto" style="color: #8f96a9;" data-ng-if="(!Object.keys(itemMaintCtrl.updateuddForm[each.map_id].$error).length && !itemMaintCtrl.updateuddForm[each.map_id].$invalid) || itemMaintCtrl.updateuddForm[each.map_id].$pristine">
                                        {{each.message}}</div>
                                    <div class="col-sm-12 p-0 text-danger" data-ng-if="!((!Object.keys(itemMaintCtrl.updateuddForm[each.map_id].$error).length && !itemMaintCtrl.updateuddForm[each.map_id].$invalid) || itemMaintCtrl.updateuddForm[each.map_id].$pristine)">
                                        {{each.message}}</div>
                                </div>
                                <div class="col-lg-12 form-group" ng-if="each.format.toLowerCase() === 'date'" ng-init="each.value = setDateValue(each.to_from_val, each.value);"
                                    valdr-form-group>
                                    <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group" style="width:89%;float:left;">
                                            <span class="input-group-addon maintenance-entrylevel-label">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <input type="text" name="{{each.map_id}}" id="{{each.map_id}}" class="form-control input-sm rcp-mydatepicker" ng-model="each.value"
                                                ui-mask="{{ui_date_mask}}" mydatepicker ng-model-options="{ updateOn: 'blur' }"
                                                model-view-value="true" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}">
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                    <div class="col-sm-12 p-0 info-msg text-overflow-desc-auto" style="color: #8f96a9;" data-ng-if="(!Object.keys(itemMaintCtrl.updateuddForm[each.map_id].$error).length && !itemMaintCtrl.updateuddForm[each.map_id].$invalid) || itemMaintCtrl.updateuddForm[each.map_id].$pristine">
                                        {{each.message}}</div>
                                </div>
                                <div class="col-lg-12 form-group" ng-if="each.format.toLowerCase() === 'date range'" ng-init="each.value = setDateValue(each.to_from_val, each.value);"
                                    valdr-form-group>
                                    <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group d-flex" style="width:89%;float:left;">
                                            <span class="input-group-addon maintenance-entrylevel-label">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <input type="text" name="{{each.map_id}}-1" id="{{each.map_id}}-1" class="form-control input-sm rcp-mydatepicker m-r-5" ng-model="each.from_date_value"
                                                ui-mask="{{ui_date_mask}}" mydatepicker ng-model-options="{ updateOn: 'blur' }"
                                                model-view-value="true" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': (itemMaintCtrl.updateuddForm[each.map_id+'-1'].$invalid || itemMaintCtrl.updateuddForm[each.map_id+'-2'].$invalid) && itemMaintCtrl.isInvalidForm}"
                                                data-ng-change="vmCtrl.addValidations(each, itemMaintCtrl.updateuddForm)">
                                            <input type="text" name="{{each.map_id}}-2" id="{{each.map_id}}-2" class="form-control input-sm rcp-mydatepicker m-l-5" ng-model="each.to_date_value"
                                                ui-mask="{{ui_date_mask}}" mydatepicker ng-model-options="{ updateOn: 'blur' }"
                                                model-view-value="true" data-ng-required="each.isRequired" data-ng-class="{'error-field-validation': (itemMaintCtrl.updateuddForm[each.map_id+'-1'].$invalid || itemMaintCtrl.updateuddForm[each.map_id+'-2'].$invalid) && itemMaintCtrl.isInvalidForm}"
                                                data-ng-change="vmCtrl.addValidations(each, itemMaintCtrl.updateuddForm)">
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                    <div data-ng-if="each.showError">
                                        <span style="display: block; font-size: 11px; color: #e41708; font-family: 'lato', 'Roboto'; margin: 3px 1px 1px 1px;">To date must be greater than From date.</span>
                                    </div>
                                </div>
                                <div class="col-lg-12 form-group" ng-if="each.user_defined_data_type.toLowerCase() === 'hierarchy'">
                                    <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group" style="width:89%;float:left;">
                                            <span class="input-group-addon maintenance-entrylevel-label">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <input type="text" hidden="hidden" for="each.map_id" data-ng-model="selectedHierarchyProperty[each.map_id].property_id" data-ng-required="each.isRequired">
                                            <hierarchy-tree-view-select id="each.map_id" name="each.map_id" value-id="each.udd_value_id" props="each.props" selected-hierarchy-property="selectedHierarchyProperty"
                                                set-property-fn="setPropertyFn(directiveData);" form-header="{{each.maintenance_description}}"
                                                data-ng-class="{'error-field-validation': each.isRequired && !selectedHierarchyProperty[each.map_id].property_id && itemMaintCtrl.isInvalidForm}">
                                            </hierarchy-tree-view-select>
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                </div>
                                <div class="col-lg-12 form-group" ng-if="each.user_defined_data_type.toLowerCase() === 'optiontype'">
                                    <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group" style="width:89%;float:left;">
                                            <span class="input-group-addon maintenance-entrylevel-label">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <select data-ng-if="each.format.toLowerCase() !== 'multiselect'" name="{{each.maintenance_description}}" selectize="selectMTOUddDropDown[each.maintenance_description]"
                                                items="each" class="dropdown-to-label" options="each.values" ng-model="each.udd_value_id"
                                                data-ng-init="vmCtrl.initOptionTypeDropDown(each)" data-ng-required="each.isRequired"
                                                data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.maintenance_description].$invalid && itemMaintCtrl.isInvalidForm}">
                                            </select>
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                </div>
                                <div class="col-lg-12 form-group" ng-if="each.user_defined_data_type.toLowerCase() === 'option'">
                                    <label class="p-0 maintenance-field-label text-overflow-desc-auto" title="{{each.maintenance_description}}" title-direction="top">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group" style="width:89%;float:left;">
                                            <span class="input-group-addon maintenance-entrylevel-label">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <select name="{{each.maintenance_description}}" selectize="selectMTOChoiceUddDropDown[each.maintenance_description]" items="each"
                                                class="dropdown-to-label" options="each.values" ng-model="each.udd_value_id"
                                                data-ng-init="vmCtrl.initChoiceDropDown(each)" data-ng-required="each.isRequired"
                                                data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.maintenance_description].$invalid && itemMaintCtrl.isInvalidForm}">
                                            </select>
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                </div>
                                <div class="col-lg-12 form-group" ng-if="each.format.toLowerCase() === 'integer' || each.format.toLowerCase() === 'number select' || each.format.toLowerCase() === 'decimal' || each.format.toLowerCase() === 'dimension' || each.format.toLowerCase() === 'text'"
                                    valdr-form-group>
                                    <label title="{{each.maintenance_description}}" title-direction="top" class="p-0 maintenance-field-label text-overflow-desc-auto">{{each.maintenance_description}}
                                    </label>
                                    <div class="input-group d-flex align-items-center">
                                        <span class="input-group-addon bgm-floralwhite">
                                            <div ng-include="each.requiredImgScript"></div>
                                        </span>
                                        <div class="input-group" style="width:89%;float:left;">
                                            <span class="input-group-addon maintenance-entrylevel-label">
                                                <div ng-include="'itementrylevel.html'"></div>
                                            </span>
                                            <input data-ng-if="each.format.toLowerCase() !== 'text'" class="form-control input-sm" name="{{each.map_id}}" id="each.map_id"
                                                ng-model="each.value" data-ng-focus="itemMaintCtrl.updateuddForm[each.map_id].$touched = true;"
                                                ng-init="each.value = setValue(each.to_from_val, each.value);" type="text" data-ng-required="each.isRequired"
                                                data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}"
                                            />
                                            <textarea data-ng-if="each.format.toLowerCase() === 'text'" class="form-control input-sm" name="{{each.map_id}}" id="each.map_id"
                                                ng-model="each.value" data-ng-focus="itemMaintCtrl.updateuddForm[each.map_id].$touched = true;"
                                                ng-init="each.value = setValue(each.to_from_val, each.value);" data-ng-required="each.isRequired"
                                                data-ng-class="{'error-field-validation': itemMaintCtrl.updateuddForm[each.map_id].$invalid && itemMaintCtrl.isInvalidForm}"
                                                style="height: 30px;"></textarea>
                                        </div>
                                        <div class="resetbtn fa fa-times-circle f-16" style="width:4%;float:right;" title="Reset value" data-ng-click="resetUddValue(each);"></div>
                                    </div>
                                    <div class="col-sm-12 p-0 info-msg text-overflow-desc-auto" title="{{each.message}}" style="color: #8f96a9;" data-ng-if="(!Object.keys(itemMaintCtrl.updateuddForm[each.map_id].$error).length && !itemMaintCtrl.updateuddForm[each.map_id].$invalid) || itemMaintCtrl.updateuddForm[each.map_id].$pristine">
                                        {{each.message}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 m-t-10 p-0 maintenanceworkspace noboxshadow" data-ng-if="itemMaintCtrl.validationMessage">
                        <div class="col-xs-12">
                            <div class="rc-alert rc-alert-type-info type-error" aria-hidden="false" role="alert">
                                <div class="col-xs-12 d-flex m-b-5 p-0">
                                    <div class="rc-alert-icon">
                                        <span class="text-danger zmdi zmdi-alert-octagon" style="font-size:35px" title="Error message" title-direction="bottom" fixed-position="true">
                                        </span>
                                    </div>
                                    <div style="flex:1;">
                                        <div class="f-15 f-700 text-danger">Error!</div>
                                        <div>
                                            <span class="c-black">{{itemMaintCtrl.validationMessage}}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 p-10 d-flex" style1="margin-bottom: 110px">
                        <button type="button" class="btn btn-group-justified btn-sm btn-success f-700 waves-effect" data-ng-click="itemMaintCtrl.showScreen('skus');">Next</button>
                        <button type="button" class="btn btn-group-justified btn-sm btn-inverse f-700 m-l-5 m-t-0 waves-effect" data-ng-click="itemMaintCtrl.closeUpdateItemPanel()">Cancel</button>
                    </div>
                </ng-form>
            </div>
        </div>
        <!-- Item UDDs END -->

        <!-- List SKUs START -->
        <div data-ng-if="itemMaintCtrl.isShowItemSkus" class="col-xs-12 p-0 box m-b-10" data-ng-controller="SkuOptionUddController as vmCtrl">
            <div class="col-xs-12 rc-alert rc-alert-info flex-column m-b-10">
                <div class="col-xs-12 d-flex m-b-5 p-0">
                    <div class="rc-alert-icon m-r-10">
                        <span class="zmdi zmdi-alert-polygon" style="font-size:35px;color: #ff6c3c;">
                        </span>
                    </div>
                    <div style="flex:1;">
                        <div>
                            <div class="f-15 f-700 text-info m-b-5">Changes will be saved!</div>
                            <div>
                                <span class="f-14">
                                    Saving these changes will
                                    <ol>
                                        <li>Save common UDD values between previous item type SKU UDDs and newly set item type.
                                        </li>
                                        <li>Save default values for UDDs which do not have common UDDs.</li>
                                    </ol>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 p-0 p-r-5 m-b-5 d-flex">
                <button disabled class="btn btn-group-justified btn-sm btn-success f-700 m-l-5 waves-effect" data-ng-if="itemMaintCtrl.isSavingItemSku">Publishing</button>
                <button type="button" data-ng-show="!itemMaintCtrl.isSavingItemSku" class="btn btn-group-justified btn-sm btn-success f-700 waves-effect"
                    ng-disabled="!itemMaintCtrl.isLoaded" data-ng-click="itemMaintCtrl.updateItemUdd('itemmaster', head);saveSkuUddValues(itemMaintCtrl.skuDetails)">Publish</button>
                <button type="button" class="btn btn-group-justified btn-sm btn-inverse f-700 m-l-5 m-t-0 waves-effect" ng-disabled="itemMaintCtrl.isSavingItemSku"
                    data-ng-click="itemMaintCtrl.closeUpdateItemPanel()">Cancel</button>
            </div>

        </div>
        <!-- List SKUs END -->
    </div>
    <div class="col-xs-12">
        <rcp-success-form class="text-center update-item-type-icon" success-tick="success_tick.svg" update-success="itemMaintCtrl.isUpdateSuccess" close-fn="itemMaintCtrl.closeupdateTypeForm();"></rcp-success-form>
    </div>
</div>
