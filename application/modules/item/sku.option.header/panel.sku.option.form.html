<div id="rcrightsidebar" class="c-overflow" data-ng-class="{'toggled':skuHeadCtrl.isShowDetails === true || skuHeadCtrl.isShowDetails === 1,'changeposition': skuHeadCtrl.showDependencyDetailsData === true  || showhistory === true}">
    <div class="col-xs-12 side-panel-name m-t-25">
        <div class="close-icon">
            <a data-ng-click="skuHeadCtrl.closeForm();closeShowHistory();" class="cursor-pointer">
                <span class="zmdi zmdi-long-arrow-right zmdi-hc-fw zmdi-hc-3x"></span>
            </a>
        </div>
        <div class="panel-name-section">
            <label class="rclabel editformlabel" ng-if="(!skuHeadCtrl.isDeleteSuccess && !skuHeadCtrl.isConfirmDelete && skuHeadCtrl.isShowAdd)" title="{{skuHeadCtrl.entityInformation.name}}">Create <strong>{{skuHeadCtrl.entityInformation.name | truncate :30}}</strong></label>
            <label class="rclabel editformlabel" ng-if="(!skuHeadCtrl.isDeleteSuccess && !skuHeadCtrl.isConfirmDelete && !skuHeadCtrl.isShowAdd)" title="{{skuHeadCtrl.entityInformation.name}}">Update <strong>{{skuHeadCtrl.entityInformation.name | truncate :30}}</strong></label>
            <label class="rclabel editformlabel" ng-if="(skuHeadCtrl.isDeleteSuccess || skuHeadCtrl.isConfirmDelete && !skuHeadCtrl.isShowAdd)" title="{{skuHeadCtrl.entityInformation.name}}">Delete <strong>{{skuHeadCtrl.entityInformation.name | truncate :30}}</strong></label>
        </div>
    </div>
    <div class="col-xs-12" ng-if="!skuHeadCtrl.isUnauthorized">
        <div class="d-flex m-b-10 m-t-10" ng-if="skuHeadCtrl.showDependencyDetails || !(skuHeadCtrl.isUpdateSuccess || skuHeadCtrl.isSaveSuccess || skuHeadCtrl.isConfirmDelete || skuHeadCtrl.isDeleteSuccess)">
            <div class="m-auto updatepanel">
                <div data-ng-include="'./img/sidebar-icons/skuOption.svg'"></div>
            </div>
        </div>
        <div class="form-group col-xs-12 p-0" ng-if="!skuHeadCtrl.showDependencyDetails">
            <div ng-if="!(skuHeadCtrl.isUpdateSuccess || skuHeadCtrl.isSaveSuccess || skuHeadCtrl.isConfirmDelete || skuHeadCtrl.isDeleteSuccess)">
                <ng-form name="skuHeadCtrl.skuHeader_form" role="form" novalidate="novalidate" valdr-type="RULES-46">
                    <div class="form-group" valdr-form-group>
                        <span class="c-red" ng-show="skuHeadCtrl.skuHeader_form.name.$invalid">* </span>
                        <span class="c-green" ng-show="skuHeadCtrl.skuHeader_form.name.$valid">* </span>
                        <label>Name</label>
                        <input id="name" name="name" type="text" class="form-control input-sm" ng-model="skuHeadCtrl.skuHeader_details.name" placeholder="Enter SKU Option" errorvalue="skuHeadCtrl.skuHeader_details.name_error" ng-model-options="{ updateOn: 'blur' }">
                    </div>
                    <div class="form-group" valdr-form-group data-ng-if="skuHeadCtrl.isShowAdd===true">
                        <span class="c-red" ng-show="skuHeadCtrl.skuHeader_form.status_id.$invalid">* </span>
                        <span class="c-green" ng-show="skuHeadCtrl.skuHeader_form.status_id.$valid">* </span>
                        <label>Status</label>
                        <select name="status_id" class="form-control select-component input-sm" id="status_id" ng-options="item.code as item.description for item in statuses" ng-model="skuHeadCtrl.skuHeader_details.status_id" errorvaluechosen="skuHeadCtrl.skuHeader_details.status_id_error">
                            <option value="" disabled>Select Status</option>
                        </select>
                    </div>
                    <div class="form-group" valdr-form-group data-ng-if="skuHeadCtrl.isShowAdd===false">
                        <span class="c-red" ng-show="skuHeadCtrl.skuHeader_form.status_id.$invalid">* </span>
                        <span class="c-green" ng-show="skuHeadCtrl.skuHeader_form.status_id.$valid">* </span>
                        <label>Status</label>
                        <select name="status_id" class="form-control select-component input-sm" id="on_update_status_id" ng-options="item.code as item.description disable when (item.code === skuHeadCtrl.statusCodes.Pending.ID) for item in statuses" ng-model="skuHeadCtrl.skuHeader_details.status_id" errorvaluechosen="skuHeadCtrl.skuHeader_details.status_id_error">
                            <option value="" disabled>Select Status</option>
                        </select>
                    </div>
                    <rcp-edit-form-btns new-form="skuHeadCtrl.isShowAdd" save-fn="skuHeadCtrl.save(skuHeadCtrl.skuHeader_details);" save-btn-text="skuHeadCtrl.saveBtnText" save-btn-error="skuHeadCtrl.saveBtnError" update-fn="skuHeadCtrl.update(skuHeadCtrl.skuHeader_details)"
                        update-btn-text="skuHeadCtrl.updateBtnText" update-btn-error="skuHeadCtrl.updateBtnError" confirm-fn="skuHeadCtrl.showconfirm();closeShowHistory()" confirm-delete="skuHeadCtrl.isConfirmDelete" update-success="skuHeadCtrl.isUpdateSuccess"
                        entity-id="skuHeadCtrl.skuHeader_details.id" enable-button="skuHeadCtrl.skuHeader_form.$invalid" access-permissions="permissionsMap">
                    </rcp-edit-form-btns>
                </ng-form>
            </div>
            <rcp-delete-form data-ng-if="skuHeadCtrl.isConfirmDelete" image-name="skuOption.svg" close-fn="skuHeadCtrl.closeForm(); " delete-fn="skuHeadCtrl.delete(skuHeadCtrl.skuHeader_details);" confirm-delete="skuHeadCtrl.isConfirmDelete">
            </rcp-delete-form>
            <rcp-success-form success-tick="success_tick.svg" create-new-fn="skuHeadCtrl.createAnotherForm();" close-fn="skuHeadCtrl.closeForm();" update-success="skuHeadCtrl.isUpdateSuccess" save-success="skuHeadCtrl.isSaveSuccess" delete-success="skuHeadCtrl.isDeleteSuccess">
            </rcp-success-form>
            <div class="col-xs-12 p-0" ng-if="!skuHeadCtrl.isShowAdd && skuHeadCtrl.isShowHistory" data-ng-include="'./application/templates/history.html'"></div>
        </div>
        <div class="col-lg-12" ng-if="skuHeadCtrl.showDependencyDetails">
            <div>
                <h4 class="aligncenter dependency-errorMessage">Cannot be deleted!</h4>
            </div>
            <div class="col-xs-12 p-10 alert-warning" style="line-height:1.8;">
                <div>
                    <span>The Item was not deleted because it was referred in some the SKUs.</span>
                </div>
                <div>
                    <span>Below are some of the SKUs in which it is being referred.</span>
                </div>
            </div>
            <div class="col-xs-12 p-0" ng-repeat="($groupName,$dependencyMain) in ( skuHeadCtrl.dependencyList | groupBy : 'dependent_entity')">
                <div class="rcpscrollbar dependency-entityBox">
                    <h4> Dependent Entities - {{$groupName}} </h4>
                    <div class="col-xs-12 p-0" data-ng-repeat="dependency in $dependencyMain">
                        <div class="dependency-entityList" ng-click="skuHeadCtrl.showDependencyListDetails(dependency);">
                            <span title="{{dependency.description}}">{{dependency.description | truncate:40}}</span>
                            <span class="zmdi zmdi-long-arrow-right zmdi-hc-fw pull-right zmdi-hc-border-circle"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group pull-right m-r-5 m-t-15">
                <button class="btn-secondary waves-effect" ng-click="skuHeadCtrl.closeDependencyList();">
                    <span><b>Cancel</b></span>
                </button>
            </div>
        </div>
        <div class="col-xs-12">
            <div data-ng-show="skuHeadCtrl.message" class="alert alert-danger alert-dismissable">
                <button type="button" class="close" data-ng-click="skuHeadCtrl.message = null" aria-hidden="true">&times;</button> {{skuHeadCtrl.message}}
            </div>
        </div>
    </div>
    <div ng-if="skuHeadCtrl.isUnauthorized && (skuHeadCtrl.isShowAdd || !skuHeadCtrl.isShowAdd || skuHeadCtrl.isConfirmDelete)" data-ng-include="'./application/templates/restricted.access.compact.html'">
    </div>
    <div data-ng-include="'./application/modules/item/sku.option.header/panel.sku.option.dependency.html'" ng-if="skuHeadCtrl.showDependencyDetailsData === true"></div>
</div>