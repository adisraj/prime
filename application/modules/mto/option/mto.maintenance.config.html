<div id="MTOdetails" ng-if="mtoMaintCtrl.isShowDetails">
    <div class="form-page-size">
        <div class="maintainence-details-section p-t-10 p-l-10 p-b-10 p-r-0" data-ng-class="{'toggled':mtoMaintCtrl.showSummaryPanel}">
            <div class="col-lg-3 col-sm-4 col-xs-5 p-0" style="background:white;height:100%;">
                <div class="col-xs-12 p-0">
                    <div class="col-xs-12 f-15 maintenance-header-section">Edit panel</div>
                    <ul class="col-xs-12 p-l-30" style="list-style-type:decimal;">
                        <li class="p-l-0 p-t-10 p-b-10 cursor-pointer" data-ng-class="{'f-700':mtoMaintCtrl.createStage}" data-ng-click="mtoMaintCtrl.editSKUPanel=true;">
                            <span ng-show="!head.id">Create MTO</span>
                            <span ng-show="head.id">Update MTO</span>
                            <div class="pull-right" data-ng-class="{'stage-indication-passed':mtoMaintCtrl.createStage}" data-ng-include="'./application/modules/item/sku/staging_icon.html'"></div>
                        </li>
                        <li class="p-l-0 p-t-10 p-b-10 cursor-pointer" data-ng-class="{'f-700':mtoMaintCtrl.previewAndPublish}" data-ng-click="mtoMaintCtrl.editSKUPanel=true;">
                            Preview & Publish
                            <div class="pull-right" data-ng-class="{'stage-indication-passed':mtoMaintCtrl.previewAndPublish}" data-ng-include="'./application/modules/item/sku/staging_icon.html'"></div>
                        </li>
                    </ul>
                    <div class="col-xs-12 f-15 maintenance-header-section" data-ng-if="head.id">Advanced Settings</div>
                    <ul class="col-xs-12 p-0 list-style-none advanced-sku-settings" data-ng-if="head.id">
                        <!-- <li class="advanced-item p-10" data-ng-click="mtoMaintCtrl.openAddressContactPanel();openAddressPanel(head.id);">
                            <a class="d-flex d-flex-v-center">
                                <span class="zmdi zmdi-account-calendar m-r-5 f-19" style="width: 20px;"></span><span class="setting-label">Address and contact</span>
                                <span class="p-relative" style="width:20px;">
                                            <span class="zmdi zmdi-chevron-right zmdi-hc-fw f-14 p-absolute"></span>
                                </span>
                            </a>
                        </li> -->
                        <li class="advanced-item p-10" data-ng-click="mtoMaintCtrl.goToClonePanel(head.id)">
                            <a class="d-flex d-flex-v-center">
                                <span class="zmdi zmdi-copy m-r-5 f-19" style="width: 20px;"></span>
                                <span class="setting-label">Clone Data</span>
                                <span class="p-relative" style="width:20px;">
                                        <span class="zmdi zmdi-chevron-right zmdi-hc-fw f-14 p-absolute"></span>
                                </span>
                            </a>
                        </li>
                        <li class="advanced-item p-10" data-ng-click="showMetaData(mtoMaintCtrl.entityInformation,head);">
                            <a class="d-flex d-flex-v-center">
                                <span class="zmdi zmdi-cloud-outline m-r-5 f-19" style="width: 20px;"></span><span class="setting-label">Documents</span>
                                <span class="p-relative" style="width:20px;">
                                            <span class="zmdi zmdi-chevron-right zmdi-hc-fw f-14 p-absolute"></span>
                                </span>
                            </a>
                        </li>
                    </ul>
                </div>
                <div>
                    <div class="col-xs-12 m-0 row pull-right form-btn-div-h p-absolute" data-ng-if="(!mtoMaintCtrl.confirmDelete && !mtoMaintCtrl.opdone)" style="bottom:15px;">
                        <button type="button" class="btn-lg bgm-firebrick c-white btn btn-block f-700 pull-right btn-info" ng-click="mtoMaintCtrl.confirmDel()" data-ng-if="mtoMaintCtrl.isUpdate" data-ng-disabled="mtoMaintCtrl.disableActions">
                            <span class="zmdi zmdi-delete zmdi-hc-fw"></span>Delete
                        </button>
                    </div>
                    <div class="col-xs-12 p-0 p-absolute" data-ng-show="mtoMaintCtrl.deleteMtoMessage" style="bottom:35px;">
                        <div class="col-lg-12">
                            <div class="alert alert-danger alert-dismissable">
                                <button type="button" class="close" data-ng-click="mtoMaintCtrl.deleteMtoMessage = null" aria-hidden="true">&times;</button> {{mtoMaintCtrl.deleteMtoMessage}}
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12 p-0 p-absolute full-width" data-ng-if="!(mtoMaintCtrl.$showErrorDetails || mtoMaintCtrl.$showErrorDetailsData) && (mtoMaintCtrl.confirmDelete && !mtoMaintCtrl.opdone)" style="bottom:15px;">
                        <div class="col-xs-6 p-r-0">
                            <button type="button" class="btn-block btn-primal f-700" data-ng-click="mtoMaintCtrl.delete(head);">Yes,Delete!</button>
                        </div>
                        <div class="col-xs-6">
                            <button type="button" class="btn-block btn-secondary f-700" data-ng-click="mtoMaintCtrl.confirmDel()">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-9 col-sm-8 col-xs-7 p-0 inheritheight">
                <div class="col-lg-12 inheritheight">
                    <!-- <staging-component entity="'MTO'" create-form="mtoMaintCtrl.createForm" configure-screen="mtoMaintCtrl.configureScreen" preview-and-publish="mtoMaintCtrl.previewAndPublish" is-update="mtoMaintCtrl.isUpdate" is-configure-screen="true" is-set-screen="false"
                        show-set-screen="false" item-set-form=""></staging-component> -->
                    <div ng-show="mtoMaintCtrl.createForm" ng-init="mtoMaintCtrl.setStageIndication('createform');">
                        <div class="col-lg-12 box p-t-20 maintenanceworkspace" data-ng-class="{'disable-actions':mtoMaintCtrl.disableActions}">
                            <ng-form name="mto_maint_form" novalidate="novalidate" role="form" valdr-type="RULES-36">
                                <div class="col-lg-12 p-0">
                                    <div class="col-lg-12 p-0">
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <div class="form-group" valdr-form-group>
                                                <label class="maintenance-field-label">Description</label>
                                                <input id="description" name="description" type="text" class="form-control input-sm" ng-model="head.description" errorvalue="head.description_error" maxlength="{{model.description.size}}" placeholder="Enter Description" ng-change=""
                                                    auto-focus />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 p-0">
                                        <div class="col-lg-3 col-md-6 col-sm-6">
                                            <div class="form-group" valdr-form-group>
                                                <label class="maintenance-field-label">Option Type</label>
                                                <select name="option_type" class="form-control select-component input-sm" ng-options="each.id as (each.short_description+' : '+each.status) disable when (each.status_id !== 200)  for each in mtoMaintCtrl.allMTOTypes" ng-disabled="head.id"
                                                    ng-model="head.option_type_id" errorvaluechosen="head.option_type_id_error" required="">
                                            <option value="" disabled>Select Option Type</option>
                                             </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-3">
                                            <div class="form-group" valdr-form-group>
                                                <label class="maintenance-field-label">Vendor</label>
                                                <select name="mto_vendor" class="form-control select-component input-sm" chosen ng-options="each.id as each.name for each in mtoMaintCtrl.allVendors" ng-model="head.vendor_id" errorvaluechosen="head.vendor_id_error" required="">
                                               <option value="" disabled>Select Vendor</option>  
                                       </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12 p-0">
                                        <div class="col-lg-3 col-md-6 col-sm-6">
                                            <div class="form-group" valdr-form-group>
                                                <label class="maintenance-field-label">Current Status</label>
                                                <select name="mto_status" class="form-control select-component input-sm" ng-options="each.code as each.description for each in statuses" ng-model="head.status_id" errorvaluechosen="head.status_id_error" required="">
                                   <option value="" disabled>Select Current Status</option>
                                </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-6">
                                            <label class="maintenance-field-label">Effective Date</label>
                                            <div class="form-groups" valdr-form-group>
                                                <div class="form-group" ng-init="head.effective_date=getDateBasedOnFormat(head.effective_date)">
                                                    <input type="text" id="effective_date" name="effective_date" required class="form-control input-sm rcp-mydatepicker" ng-model="head.effective_date" ui-mask="{{ui_date_mask}}" mydatepicker ng-model-options="{ updateOn: 'blur' }"
                                                        model-view-value="true">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-form>
                        </div>
                        <div class="col-xs-12 form-group p-t-5 p-0 form-btn-div-h">
                            <div class="col-sm-5 col-xs-12 m-0 p-0 row pull-left form-btn-div-h hidden-xs" data-ng-if="!mtoMaintCtrl.confirmDelete">
                                <div growl></div>
                            </div>
                            <div class="col-sm-7 col-xs-12 m-0 row pull-right p-0 d-flex" data-ng-if="(!mtoMaintCtrl.confirmDelete && !mtoMaintCtrl.opdone)">
                                <button type="button" class="btn-block m-t-0 m-r-5 btn-lg btn-cancel btn f-700 f-15" data-ng-if="mtoMaintCtrl.createForm || mtoMaintCtrl.previewAndPublish" data-ng-click="mtoMaintCtrl.closeForm('SKUMaster');">Cancel</button>
                                <button type="button" class="btn-block m-t-0 m-r-5 btn-lg btn-success btn f-700 f-15" data-ng-click="mtoMaintCtrl.continueFn('createForm')" data-ng-if="mtoMaintCtrl.createForm" data-ng-disabled="mto_maint_form.$invalid">Continue</button>
                            </div>
                            <div class="col-lg-7 m-0 row pull-right form-btn-div-h p-0" data-ng-if="mtoMaintCtrl.opdone">
                                <button type="button" class="btn btn-lg btn-success f-700 pull-right" data-ng-click="mtoMaintCtrl.closeForm('SKUMaster');">Done</button>
                            </div>
                        </div>
                    </div>
                    <!--Div for preview and publish mto start-->
                    <div ng-show="mtoMaintCtrl.previewAndPublish" ng-init="mtoMaintCtrl.setStageIndication('previewandpublish');">
                        <div class="col-lg-12 p-0 maintenanceworkspace">
                            <div class="rcpscrollbar o-auto">
                                <!--BASIC DETAILS PREVIEW -- START-->
                                <div class="col-xs-12 card p-10">
                                    <div class="col-xs-12">
                                        <div class="col-lg-12 d-flex" style="justify-content:space-between;">
                                            <label class="f-16 f-500 m-0" style="color: #1e2847;">
                                                <label class="f-15 maintenance-field-label publishData m-0 p-0" title="{{head.description}}">{{head.description}}</label>
                                            <span> - </span>
                                            <select class="maintenance-field-label dropdown-to-label" ng-options="each.code as each.description for each in statuses" ng-model="head.status_id" disabled ng-class="{'text-success f-500': head.status_id===200 , 'text-warning f-300': head.status_id===100, 'text-primary f-300': head.status_id===300,'text-info f-300': head.status_id===400} "></select>
                                            </label>
                                        </div>
                                        <div class="col-lg-12  p-t-10 previewnpublish">
                                            <div class="col-lg-4">
                                                <label class="publish-preview">Option Type</label>
                                                <div>
                                                    <label class="maintenance-field-label publishData m-0 p-0">
                                                        <select name="option_type" class="dropdown-to-label" ng-options="each.id as (each.short_description+' : '+each.status) disable when (each.status_id !== 200)  for each in mtoMaintCtrl.allMTOTypes"  ng-model="head.option_type_id" disabled>
                                                        </select>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <label class="publish-preview">Vendor</label>
                                                <div>
                                                    <label class="maintenance-field-label publishData m-0 p-0">
                                                        <select name="mto_vendor" class="dropdown-to-label" ng-options="each.id as each.name for each in mtoMaintCtrl.allVendors" ng-model="head.vendor_id"></select>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <label class="publish-preview">Current Status</label>
                                                <div>
                                                    <label class="maintenance-field-label publishData m-0 p-0">
                                                        <select  class="dropdown-to-label" ng-options="each.code as each.description for each in statuses" ng-model="head.status_id" disabled></select>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-4">
                                                <label class="publish-preview">Effective Date</label>
                                                <div>
                                                    <label class="maintenance-field-label publishData m-0 p-0">{{head.effective_date}}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--BASIC DETAILS PREVIEW -- END-->
                            </div>
                        </div>
                        <div class="col-xs-12 form-group p-t-5 p-0 form-btn-div-h">
                            <div class="col-sm-5 col-xs-12 m-0 p-0 row pull-left form-btn-div-h hidden-xs" data-ng-if="!mtoMaintCtrl.confirmDelete">
                                <div growl></div>
                            </div>
                            <div class="col-sm-7 col-xs-12 m-0 row pull-right p-0 d-flex" data-ng-if="(!mtoMaintCtrl.confirmDelete && !mtoMaintCtrl.opdone)">
                                <button type="button" class="btn-block m-t-0 m-r-5 btn-lg btn-cancel btn f-700 f-15" data-ng-if="mtoMaintCtrl.createForm || mtoMaintCtrl.previewAndPublish" data-ng-click="mtoMaintCtrl.closeForm();">Cancel</button>
                                <button type="button" class="btn-block m-t-0 m-r-5 btn-lg btn-inverse btn f-700 f-15" data-ng-click="mtoMaintCtrl.backFn('previewpublishScreen');" data-ng-if="mtoMaintCtrl.previewAndPublish">Back</button>
                                <button type="button" class="btn-block m-t-0 m-r-5 btn-lg btn-success btn f-700 f-15" data-ng-click="mtoMaintCtrl.publishMTO(head);" data-ng-if="mtoMaintCtrl.previewAndPublish" data-ng-disabled="mtoMaintCtrl.disableActions">Publish {{moduleName}}</button>
                            </div>
                            <div class="col-lg-7 m-0 row pull-right form-btn-div-h p-0" data-ng-if="mtoMaintCtrl.opdone">
                                <button type="button" class="btn btn-lg btn-success f-700 pull-right" data-ng-click="mtoMaintCtrl.closeForm();">Done</button>
                            </div>
                        </div>
                    </div>
                    <!-- <rcp-maintenance-control is-update="mtoMaintCtrl.isUpdate" create-form="mtoMaintCtrl.createForm" show-error-details="mtoMaintCtrl.showDependencyDetails" show-error-details-data="mtoMaintCtrl.showDependencyDetailsData" preview-and-publish="mtoMaintCtrl.previewAndPublish"
                        close-fn="mtoMaintCtrl.closeForm();" module-name="'MTO'" publish-fn="mtoMaintCtrl.publishMTO(head);" delete-fn="mtoMaintCtrl.delete(head)" is-invalid="mto_maint_form.$invalid" opdone="mtoMaintCtrl.opdone" disable-actions="mtoMaintCtrl.disableActions"></rcp-maintenance-control> -->

                </div>
                <!--Div for preview and publish mto end-->
            </div>
        </div>
        <div class="summary-section hidden-md hidden-sm hidden-xs" data-ng-class="{'toggled':mtoMaintCtrl.showSummaryPanel}">
            <div class="maintenance-summary">
                <div class="col-xs-12 p-0">
                    <span class="cursor-pointer f-23 p-5 m-r-10 zmdi zmdi-arrow-left" style="margin-left:-25px;background: #8d96a7;color: white;" data-ng-if="!mtoMaintCtrl.showSummaryPanel" data-ng-click="mtoMaintCtrl.showSummaryPanel = true;"></span>
                </div>
                <div class="col-lg-12 p-0 maintenance-preview">
                    <div class="form-group d-flex d-flex-v-center c-white" style="background: #8d96a7;">
                        <label class="m-b-0 f-14 f-500" style="padding: 7px 10px;">MTO Summary</label>
                        <span class="cursor-pointer f-23 zmdi zmdi-arrow-right pull-right p-absolute" data-ng-if="mtoMaintCtrl.showSummaryPanel" data-ng-click="mtoMaintCtrl.showSummaryPanel = false;" style="right:10px;"></span>
                        <hr class="m-0" />
                    </div>
                    <div class="m-0 m-b-5">
                        <div class="col-xs-12 p-10" ng-init="mtoMaintCtrl.loadImage(head,'250x175');">
                            <img check-image class="img-responsive m-auto config-screen" image-name="entity-config-made-to-order.svg" ng-src="{{head.summaryThumbnail}}" style="border-radius:3px;" />
                        </div>
                        <div class="col-xs-12 p-10 rcpscrollbar o-auto" style="height: calc(100% - 250px);">
                            <div class="col-lg-12 p-0 p-10">
                                <div class="col-lg-12 p-0">
                                    <div class="p-l-5 p-t-5" disabled>
                                        <label class="rclabel maintenance-preview">Description</label>
                                        <label class="rclabel maintenance-preview data form-control m-0 p-0" title="{{head.description}}">{{head.description | truncate: 40}}</label>
                                    </div>
                                </div>
                                <div class="col-lg-12 p-0">
                                    <div class="p-l-5 p-t-5">
                                        <label class="rclabel maintenance-preview"> Type</label>
                                        <span class="rclabel maintenance-preview data form-control m-0 p-0">
                                    <select name="option_type" class="dropdown-to-label" ng-options="each.id as each.short_description for each in mtoMaintCtrl.allMTOTypes"  ng-model="head.option_type_id" disabled>
                                </select></span>
                                    </div>
                                </div>
                                <div class="col-lg-12 p-0">
                                    <div class="p-l-5 p-t-5">
                                        <label class="rclabel maintenance-preview">Vendor</label>
                                        <span class="rclabel maintenance-preview data form-control m-0 p-0">
                                     <select name="mto_vendor" class="dropdown-to-label" ng-options="each.id as each.name for each in mtoMaintCtrl.allVendors" ng-model="head.vendor_id">
                                         </select></span>
                                    </div>
                                </div>
                                <div class="col-lg-12 p-0">
                                    <div class="col-lg-6 p-l-5 p-t-5">
                                        <label class="rclabel maintenance-preview">Current Status</label>
                                        <span class="rclabel maintenance-preview data form-control m-0 p-0"> 
                                    <select name="mto_status" class="dropdown-to-label" ng-options="each.code as each.description for each in statuses" ng-model="head.status_id"></select>
                                    </span>
                                    </div>
                                    <div class="col-lg-6 p-l-5 p-t-5">
                                        <label class="rclabel maintenance-preview"> Effective Date</label>
                                        <span class="rclabel maintenance-preview data form-control m-0 p-0">{{head.effective_date }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <meta-data-panel></meta-data-panel>
        <div ui-view></div>
    </div>
    <div id="rcrightsidebar" data-ng-class="{'changehistorytoggle': mtoMaintCtrl.showDependencyDetails === true || showHistory === true,'toggled':mtoMaintCtrl.showDependencyDetailsData === true}">
        <div class="col-xs-12 m-t-25">
            <div class="col-xs-3 p-0">
                <a data-ng-click="mtoMaintCtrl.showDependencyDetailsData=false;mtoMaintCtrl.showDependencyDetails = false;mtoMaintCtrl.$confirmdelete = false;" class="cursor-pointer">
                    <span class="zmdi zmdi-long-arrow-right zmdi-hc-fw zmdi-hc-3x"></span>
                </a>
            </div>
            <div class="col-xs-9 p-0">
                <label class="rclabel editformlabel" title="{{mtoMaintCtrl.moduleName}}"><strong>MTO</strong> Dependency</label>
            </div>
        </div>
        <div class="col-xs-12">
            <div class="d-flex m-b-10 m-t-10">
                <div class="m-auto updatepanel">
                    <div data-ng-include="'./img/sidebar-icons/entity-config-made-to-order.svg'"></div>
                </div>
            </div>
            <div class="col-lg-12">
                <div>
                    <h4 class="aligncenter dependency-errorMessage">Cannot be deleted!</h4>
                </div>
                <div class="col-xs-12 p-0" ng-repeat="($groupName,$dependencyMain) in ( mtoMaintCtrl.dependencyList | groupBy : 'dependent_entity')">
                    <div class="rcpscrollbar dependency-entityBox">
                        <h4> Dependent Entities - {{$groupName}} </h4>
                        <div class="col-xs-12 p-0" data-ng-repeat="dependency in $dependencyMain">
                            <div class="dependency-entityList" ng-click="mtoMaintCtrl.showDependencyListDetails(dependency);">
                                <span title="{{dependency.description}}">{{dependency.choice_description | truncate:40}}</span>
                                <span class="zmdi zmdi-long-arrow-right zmdi-hc-fw pull-right zmdi-hc-border-circle"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group pull-right m-r-5 m-t-15">
                    <button class="btn btn-secondary" ng-click="mtoMaintCtrl.showDependencyDetailsData=false;mtoMaintCtrl.showDependencyDetails = false;mtoMaintCtrl.$confirmdelete = false;">
                                <span><b>Cancel</b></span>
                            </button>
                </div>
            </div>
        </div>
        <div data-ng-include="'./application/modules/mto/option/panel.mto.dependency.html'"></div>
    </div>
</div>