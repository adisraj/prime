<style>
    button:focus {
        outline: 5px auto #6ecaf6 !important
    }

    input[type="text"]:focus,
    select:focus,
    .select2-container-active,
    trix-editor:focus {
        border-left: 3px solid #f9c10c !important;
    }

    input[type="radio"]:focus,
    input[type="radio"]:checked {
        border: 2px solid #f9c10c !important;
        border-radius: 50%;
        background-color: #009688;
        box-shadow: inset 0 0 0 1px hsla(0, 0%, 0%, .4), 0 1px 1px hsla(0, 0%, 100%, .8);
        content: '';
        height: 20px;
        width: 20px;
    }

    input[type="radio"] {
        border: 1px solid #5d4565;
        border-radius: 50%;
        cursor: pointer;
        display: inline-block;
        height: 20px;
        position: relative;
        width: 20px;
        -webkit-appearance: none;
        appearance: none;
    }

    .select2-container {
        display: block;
        border-left: 2px solid #d8d8d8;
    }

    .custom-file {
        position: relative;
        display: inline-block;
        width: 100%;
        height: calc(1.5em + 0.75rem + 2px);
        margin-bottom: 0;
    }

    .reset-button {
        background-color: #e0e0e0;
        /* Light Gray */
        color: #333333;
        /* Dark Gray */
        border: none;
        padding: 8px 16px;
        cursor: pointer;
        border-radius: 4px;
    }

    .icon-container {
        margin-right: 5px;
    }

    .custom-file-label::after {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        z-index: 3;
        display: block;
        height: calc(1.5em + 0.75rem);
        padding: 0.375rem 0.75rem;
        line-height: 1.5;
        color: white;
        content: "Browse";
        cursor: pointer;
        /* background-size: 10px 10px;
        background: url('./img/XLS.png') no-repeat right center; */
        background-color: #00bcd4;
        border-left: inherit;
        border-radius: 0 0.25rem 0.25rem 0;
    }

    .custom-file-input {
        position: relative;
        z-index: 2;
        width: 100%;
        height: calc(1.5em + 0.75rem + 2px);
        margin: 0;
        overflow: hidden;
        opacity: 0;
    }

    .custom-file-label {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        z-index: 1;
        height: calc(1.5em + 0.75rem + 2px);
        padding: 0.375rem 0.75rem;
        overflow: hidden;
        font-weight: 350;
        line-height: 1.5;
        color: #495057;
        background-color: #fff;
        border: 1px solid #ced4da;
        border-radius: 0.25rem;
    }

    .select2-container .select2-choice {
        display: flex !important;
        position: relative !important;
        white-space: nowrap !important;
        color: #444444 !important;
        background-clip: padding-box !important;
        background-image: none !important;
        padding-left: 9px !important;
        overflow: hidden !important;
        border: 1px solid#e2e2e2 !important;
        text-decoration: none !important;
        border-radius: 0px !important;
        align-items: center;
        height: 30px !important;
    }

    .select2-arrow {
        background: transparent !important;
        border: none !important;
    }

    .select2-dropdown-open .select2-choice {
        box-shadow: none !important;
        background-color: white !important;
    }

    .select2-results {
        padding: 0;
        margin: 4px 0px;
    }

    .select2-results li {
        border-top: 1px solid #dcdcdc;
    }

    .select2-results .select2-result-label {
        padding: 6px;
    }

    .select2-search input {
        padding: 5px;
        margin: 0 auto;
        background-image: url('./img/icons/search-2.png');
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center right;
    }

    .select2-drop-active {
        border: 1px solid #e2e2e2;
    }

    .typeright {
        float: right;
    }

    .select2-drop {
        width: 100.2%;
        left: -2px;
        z-index: 1;
    }

    .select2-search {
        margin-top: 5px;
    }

    .select2-search input:focus {
        background-image: url('./img/icons/search-2.png');
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center right;
    }

    .select2-results .select2-highlighted span {
        color: #fff;
    }

    .select2-results .select2-disabled.select2-highlighted span {
        color: #666;
    }

    .panel-body {
        overflow-y: scroll;
        max-height: 400px;
    }

    .no-pointer {
        /* pointer-events: none; */
        cursor: not-allowed !important;
    }

    .nav-tabs .nav-item .nav-link {
        border: 1px solid transparent;
        border-radius: 4px 4px 0 0;
        box-shadow: none;
        /* Remove box shadow */
        color: #007bff;
        padding: 10px 15px;
    }

    .nav-tabs .nav-link.active {
        color: #2196f3;
        background-color: white;
        border-color: #ddd #ddd transparent;
        box-shadow: none;
    }

    @media (max-width: 768px) {
        .nav-tabs .nav-item {
            flex: 1 1 100%;
            text-align: center;
        }

        .nav-tabs .nav-link {
            font-size: 14px;
            padding: 0.5rem;
        }
    }

    .select-container {
        position: relative;

    }

    .spinner-container {
        position: absolute;
        color: #508bea;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none;
    }


    /* Ensure dropdown menu also respects fixed width */

    @media (max-width: 768px) {
        .nav-tabs .nav-item {
            flex: 1 1 100%;
            text-align: center;
        }

        .nav-tabs .nav-link {
            font-size: 14px;
            padding: 0.5rem;
        }
    }


    .effetive-date-buttons {
        margin-top: 10px;
    }

    .selectize-dropdown {
        margin-top: -1px !important;
        border-top: none !important;
        top: 100% !important;
        width: 100% !important;
        min-width: max-content !important;
        box-sizing: border-box !important;
    }

    .selectize-dropdown-content {
        width: 100% !important;
    }

    .selectize-control.single .selectize-input {
        border-radius: 4px 4px 0 0 !important;
    }

    /* Style the input when dropdown is open */
    .selectize-control.single.dropdown-active .selectize-input {
        border-bottom-color: #d0d0d0 !important;
        box-shadow: none !important;
    }

    .selectize-control.single.dropdown-active .selectize-input {
        border-bottom-color: #d0d0d0 !important;
        box-shadow: none !important;
    }

    /* Ensure proper z-index stacking */
    .selectize-dropdown.single {
        z-index: 1000;
        border: 1px solid #d0d0d0;
        border-top: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        width: 100% !important;
    }

    .selectize-control {
        width: 100% !important;
    }

    .loading-spinner {
        padding: 15px;
        color: #508bea;
        font-weight: bold;
    }
</style>
<div class="col-xs-12 m-t-5" data-ng-controller="ResyncSkuInterfaceController as interfaceResyncController">
    <script type="text/javascript">
        $(".custom-file-input").on("change", function () {
            var fileName = $(this).val().split("\\").pop();
            if (fileName) {
                $(this).siblings(".custom-file-label").addClass("selected").text(fileName);
            }
        });
        window.onbeforeunload = (evt) => {
            if (window.localStorage.getItem('isExecuting') == 'true') {
                let message = 'Are you sure you want to leave?';
                evt.preventDefault();
                return message;
            }
        }
    </script>
    <div class="col-xs-6 m-b-30">
        <ng-form role="form" novalidate="novalidate" name="interfaceResyncController.mass_retail_maintenance_form">
            <div class="col-xs-12 p-0 box maintenanceworkspace">
                <div class="col-xs-12 f-16 panel-header">
                    <span class="f-700 main-header">Resynchronize Interface Data</span>
                    <div>
                        <small>Filter on the preferred Entity details</small>
                    </div>
                </div>
                <div class="col-xs-12 p-10">
                    <div class="col-xs-12 p-0">
                        <div class="col-lg-12 col-md-10 col-sm-12 p-0 maintenance-field-label">
                            <label class="m-b-10">Choose an entity for resynchronizing the data</label>
                            <div class="form-group">
                                <form name="myForm" class="align-items-center d-flex">
                                    <label class="m-r-30 align-items-center d-flex">
                                        <input type="radio" class="m-t-0" name="resync_retails"
                                            errorvaluechosen="interfaceResyncController.resync_retails_error" required
                                            ng-model="interfaceResyncController.resync_retails" value="0"
                                            data-ng-change="interfaceResyncController.resetresync()">
                                        <i class="input-helper"></i>SKU
                                    </label>
                                    <label class="m-l-30 align-items-center d-flex">
                                        <input type="radio" class="m-t-0" name="resync_retails"
                                            errorvaluechosen="interfaceResyncController.resync_retails_error" required
                                            ng-model="interfaceResyncController.resync_retails" value="1"
                                            data-ng-change="interfaceResyncController.resetresync()">
                                        <i class="input-helper"></i>Retails
                                    </label>
                                    <label class="align-items-center d-flex" style="margin-left: 50px;">
                                        <input type="radio" class="m-t-0" name="resync_retails"
                                            errorvaluechosen="interfaceResyncController.resync_retails_error" required
                                            ng-model="interfaceResyncController.resync_retails" value="2"
                                            data-ng-change="interfaceResyncController.resetresync()">
                                        <i class="input-helper"></i>Vendors
                                    </label>
                                </form>
                            </div>
                        </div>

                        <!-- Nav Tab Starts -->
                        <ul class="nav nav-tabs flex-wrap"
                            data-ng-if="interfaceResyncController.resync_retails==='1'||interfaceResyncController.resync_retails==='0'">
                            <li class="nav-item" ng-class="{active: tab.isSet(1)}"
                                ng-style="tab.isSet(1) ? {'font-weight': 'bold', 'border-top': '4px solid #009688'} : {'font-weight': 'normal', 'border-top': 'none'}"
                                ng-click="interfaceResyncController.clearSKUDetailsOnTabChange(); tab.setTab(1)">
                                <a class="nav-link active" style="background-color: white; color:#508bea"
                                    aria-current="page" ng-click="tab.setTab(1)">Search SKU</a>
                            </li>
                            <li class="nav-item" ng-class="{active: tab.isSet(2)}"
                                ng-style="tab.isSet(2) ? {'font-weight': 'bold', 'border-top': '4px solid #009688'} : {'font-weight': 'normal', 'border-top': 'none'}"
                                ng-click="interfaceResyncController.clearSKUDetailsOnTabChange();">
                                <a class="nav-link active" style="background-color: white; color:#508bea;" href
                                    ng-click="tab.setTab(2)">Add SKU's By SpreadSheet</a>
                            </li>
                            <li class="nav-item" ng-class="{active: tab.isSet(3)}"
                                ng-style="tab.isSet(3) ? {'font-weight': 'bold', 'border-top': '4px solid #009688'} : {'font-weight': 'normal', 'border-top': 'none'}"
                                ng-click="interfaceResyncController.clearSKUDetailsOnTabChange();"
                                data-ng-if="interfaceResyncController.resync_retails==='1'">
                                <a class="nav-link active" style="background-color: white; color: #508bea;" href
                                    ng-click="tab.setTab(3)">Add SKU's By Effective Date</a>
                            </li>
                        </ul>

                        <!-- Retail Starts -->
                        <div class="col-lg-12 col-md-10 col-sm-12 p-0 maintenance-field-label"
                            data-ng-if="interfaceResyncController.resync_retails==='1'||interfaceResyncController.resync_retails==='0'">
                            <div class="form-group" data-ng-show="tab.isSet(1)">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0"><br />
                                    <div class="form-group">
                                        <div class="form-group col-lg-6 col-md-6 col-xs-6 p-0" valdr-form-group>
                                            <input type="text" id="sku_number_search" class="form-control input-sm"
                                                ng-model="interfaceResyncController.sku_number" placeholder="SKU Number"
                                                ng-keyup="$event.keyCode == 13 ? interfaceResyncController.FormatSkuNumber():null" />
                                        </div>
                                        <button class="btn btn-info m-l-20"
                                            data-ng-if="!interfaceResyncController.isSKUSearching"
                                            data-ng-disabled="!interfaceResyncController.sku_number||interfaceResyncController.sku_number.length===0"
                                            data-ng-click="interfaceResyncController.FormatSkuNumber()">Search</button>
                                        <button class="btn btn-info m-l-20"
                                            data-ng-if="interfaceResyncController.isSKUSearching"
                                            data-ng-disabled="interfaceResyncController.isSKUSearching">Searching
                                            ...</button>
                                        <button class="btn btn-info m-l-5"
                                            data-ng-disabled="!interfaceResyncController.sku_number||interfaceResyncController.sku_number.length===0"
                                            data-ng-click="interfaceResyncController.clearSearchSKU()">Clear</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-12 col-md-10 col-sm-12 p-0 maintenance-field-label"
                            data-ng-if="interfaceResyncController.resync_retails==='1'||interfaceResyncController.resync_retails==='0'">
                            <br />
                            <div data-ng-if="tab.isSet(2)">
                                <div class="form-group">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0">
                                        <label><span class="f-700 main-header">Upload SKUs</span></label>
                                        <div class="align-items-center d-flex">
                                            <div class="custom-file mb-1 m-r-5">
                                                <input type="file" class="custom-file-input" files-input accept=".xlsx"
                                                    style="cursor: pointer;"
                                                    data-ng-disabled="interfaceResyncController.convertClear"
                                                    data-ng-class="{'no-pointer': interfaceResyncController.convertClear}"
                                                    data-ng-change="interfaceResyncController.updateFileName(interfaceResyncController.fileList)"
                                                    ng-model="interfaceResyncController.fileList" id="fileUpload"
                                                    name="filename1">
                                                <label class="custom-file-label" for="customFile">
                                                    {{interfaceResyncController.filetoUploadName}}</label>
                                            </div>
                                            <div class="button-container"
                                                style="display: flex; justify-content: space-around;">
                                                <button id="upload" data-ng-click="interfaceResyncController.Upload()"
                                                    data-ng-if="!interfaceResyncController.convertClear"
                                                    class="btn btn-success p-t-9 p-b-9 d-flex m-r-5">
                                                    Fetch SKU's
                                                </button>
                                                <button class="p-t-10 p-b-10 d-flex btn m-r-5"
                                                    data-ng-if="interfaceResyncController.convertClear"
                                                    style="background-color: firebrick;color: white;"
                                                    data-ng-click="interfaceResyncController.clickOnClear()">Clear</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="m-t-5">
                                    <div id="ContentMessage" style="color: orangered;" class="p-2">
                                        <span class="f-500">
                                            <i class="fa fa-close m-r-5" style="font-size:28px;color:red"></i>{{
                                            interfaceResyncController.ContentMessage
                                            ?interfaceResyncController.ContentMessage :'' }}</span>
                                    </div>
                                </div>

                                <div data-ng-if="interfaceResyncController.UploadedMessage" class="m-t-5">
                                    <div style="color: green;" class="p-2">
                                        <span class="f-500">
                                            <i class="fa fa-check m-r-5"
                                                data-ng-if="interfaceResyncController.UploadedMessage"></i>{{
                                            interfaceResyncController.UploadedMessage
                                            }}</span>
                                    </div>
                                </div>
                                <div data-ng-if="interfaceResyncController.invalidmsg" class="m-t-5">
                                    <div style="color: rgb(255, 0, 0);" class="p-2">
                                        <span class="f-500">
                                            <i class="fa fa-check m-r-5"
                                                data-ng-if="interfaceResyncController.invalidmsg"></i>{{
                                            interfaceResyncController.invalidmsg
                                            }} <i class="fa fa-download cursor-pointer"
                                                style="color: #508bea;padding-left: 10px;"
                                                data-ng-click="interfaceResyncController.downloadInvalidSkus()"></i></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Effective Date section -->
                        <div class="col-lg-12 col-md-10 col-sm-12 p-0 maintenance-field-label"
                            data-ng-if="interfaceResyncController.isEffectiveDateVisible">
                            <div data-ng-show="tab.isSet(3)">
                                <div class="col-xs-12 p-10">
                                    <div class="col-xs-12 p-0">
                                        <div class="row">
                                            <!-- Spinner for Effective Date -->
                                            <div class="spinner-container"
                                                data-ng-if="interfaceResyncController.isProcessing">
                                                <i class="fa fa-spinner fa-spin"></i> Loading Effective Dates...
                                            </div>

                                            <div class="col-lg-6 col-md-6 col-sm-6"
                                                data-ng-if="!interfaceResyncController.isProcessing">
                                                <div class="form-group" valdr-form-group
                                                    data-ng-show="interfaceResyncController.resync_retails==='1'">
                                                    <label class="panel-body-label"
                                                        style="font-weight: bold; color: #508bea;">Effective Date
                                                    </label>
                                                    <select name="copy_from_effective_date"
                                                        id="copy_from_effective_date"
                                                        class="form-control select-component input-sm"
                                                        ng-options="date as (date | date:'MMM dd, yyyy') for date in interfaceResyncController.effectiveDateOptions"
                                                        ng-model="interfaceResyncController.selectedEffectiveDate"
                                                        ng-change="interfaceResyncController.handleEffectiveDateChange(interfaceResyncController.selectedEffectiveDate)"
                                                        ng-disabled="interfaceResyncController.isEffectiveDateDisabled"
                                                        required>
                                                        <option value="" disabled>Select Date </option>
                                                    </select>

                                                    <!-- Message for no available effective dates -->
                                                    <p ng-if="interfaceResyncController.isEffectiveDateDisabled"
                                                        class="text-danger">
                                                        No effective dates available.
                                                    </p>
                                                </div>
                                            </div>


                                            <!-- Price Type Dropdown -->
                                            <div class="col-lg-6 col-md-6 col-sm-6"
                                                data-ng-if="!interfaceResyncController.isProcessing">
                                                <div class="form-group"
                                                    data-ng-if="interfaceResyncController.selectedEffectiveDate || interfaceResyncController.resync_retails === '1'">
                                                    <!-- Price Type Dropdown -->
                                                    <label class="panel-body-label"
                                                        style="font-weight: bold; color: #508bea;">
                                                        Price Type
                                                    </label>
                                                    <select name="copy_from_price_type_id" id="copy_from_price_type_id"
                                                        class="form-control select-component input-sm"
                                                        ng-model="interfaceResyncController.selectedPrice"
                                                        ng-options="option as option.name for option in interfaceResyncController.priceOptions track by option.id"
                                                        ng-disabled="!interfaceResyncController.isPriceTypeDropdownVisible"
                                                        required>
                                                        <option value="" disabled>Select Price Type</option>
                                                    </select>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="row" data-ng-if="tab.isSet(3)"
                                    data-ng-show="interfaceResyncController.resync_retails==='1'">
                                    <!-- Price Groups Dropdown -->
                                    <div class="col-lg-6 col-md-6 col-sm-6"
                                        data-ng-show="!interfaceResyncController.isProcessing && interfaceResyncController.resync_retails === '1'">
                                        <div class="form-group">
                                            <label for="priceGroupsDropdown" class="panel-body-label"
                                                style="font-weight: bold; color: #508bea; margin-left: 7px">
                                                Price Groups
                                            </label>
                                            <div class="dropdown" ng-class="{'open': interfaceResyncController.isOpen}"
                                                style="width: 98%; margin-left: 7px; position: relative;">
                                                <button id="priceGroupsDropdown"
                                                    class="btn btn-outline-secondary dropdown-toggle form-control select-component input-sm text-start"
                                                    type="button"
                                                    ng-disabled="!interfaceResyncController.selectedEffectiveDate || interfaceResyncController.priceOptions.length === 0"
                                                    ng-click="interfaceResyncController.onPriceGroupDropdownClick($event)"
                                                    aria-haspopup="true"
                                                    aria-expanded="{{interfaceResyncController.isOpen}}"
                                                    style="width: 100%; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding-right: 25px; position: relative; border: 1px solid #d8d8d8; outline: none !important; box-shadow: none !important;">
                                                    <span ng-if="interfaceResyncController.selectedPriceGroups.length"
                                                        style="display: flex;">
                                                        {{interfaceResyncController.selectedPriceGroups.join(', ')}}
                                                    </span>
                                                    <span ng-if="!interfaceResyncController.selectedPriceGroups.length"
                                                        style="display: flex;">
                                                        Select Price Groups
                                                    </span>
                                                </button>
                                                <ul class="dropdown-menu" role="menu"
                                                    aria-labelledby="priceGroupsDropdown"
                                                    ng-show="interfaceResyncController.isOpen" style="width: 100%;">
                                                    <li role="presentation"
                                                        ng-if="interfaceResyncController.staticPriceGroups.length === 0">
                                                        No Price Groups Available
                                                    </li>
                                                    <li role="presentation"
                                                        ng-repeat="group in interfaceResyncController.staticPriceGroups track by $index"
                                                        style="display: flex; margin: 0; padding: 3px 20px;">
                                                        <div style="display: flex; align-items: center;">
                                                            <label role="menuitemcheckbox" tabindex="0"
                                                                ng-click="interfaceResyncController.toggleSelect(group, $event)"
                                                                ng-keypress="$event.keyCode === 13 && interfaceResyncController.toggleSelect(group)"
                                                                style="display: flex; align-items: center; width: 100%; margin: 0; cursor: pointer; border: none;">
                                                                <input type="checkbox"
                                                                    ng-checked="interfaceResyncController.selectedPriceGroups.includes(group)"
                                                                    tabindex="-1"
                                                                    style="margin-right: 3px; margin-top: 1px; cursor: pointer;">
                                                                <span
                                                                    ng-click="interfaceResyncController.toggleSelect(group)"
                                                                    style="margin-left: 5px;">
                                                                    {{group}}
                                                                </span>
                                                            </label>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Buttons Section -->
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <div class="form-group" style="margin-top: 25px;">
                                            <div style="display: flex; gap: 5px; width: 100%;">
                                                <!-- Fetch SKUs Button -->
                                                <button id="upload"
                                                    data-ng-click="interfaceResyncController.FetchRetailsSKUCount()"
                                                    data-ng-if="!interfaceResyncController.convertClear"
                                                    data-ng-disabled="!interfaceResyncController.selectedEffectiveDate || !interfaceResyncController.selectedPrice || interfaceResyncController.selectedPriceGroups.length === 0"
                                                    class="btn btn-success"
                                                    style="flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                                    Fetch SKU's
                                                </button>
                                                <!-- Clear Button -->
                                                <button class="btn btn-info"
                                                    style="flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"
                                                    data-ng-disabled="!interfaceResyncController.selectedEffectiveDate"
                                                    data-ng-click="interfaceResyncController.clearSearchEffectiveDate()">
                                                    Clear
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Warning message if no sale price exists -->
                                <div ng-if="interfaceResyncController.priceTypeWarningMessage" class="m-t-5">
                                    <div style="color: rgb(255, 0, 0);" class="p-2">
                                        <span class="f-500">
                                            <i class="fa fa-check m-r-5"></i>
                                            {{interfaceResyncController.priceTypeWarningMessage}}
                                        </span>
                                    </div>

                                </div>
                                <!-- Display SKU Count -->
                                <div data-ng-if="interfaceResyncController.skuCount !== null && interfaceResyncController.skuCount > 0"
                                    class="m-t-10">
                                    <div style="color: green; display: flex; align-items: center; gap: 10px;"
                                        class="p-2">
                                        <i class="fa fa-check-circle" style="font-size: 16px;"></i>
                                        <span class="f-500">
                                            {{interfaceResyncController.skuCount}} SKUs Fetched
                                            Successfully,
                                            Please Complete Resync!
                                        </span>
                                    </div>
                                </div>
                                <!-- Warning Message -->
                                <div data-ng-if="interfaceResyncController.showNoSalePriceWarning" class="m-t-5">
                                    <div style="color: rgb(255, 0, 0);" class="p-2">
                                        <span class="f-500">
                                            <i class="fa fa-check m-r-5"></i>
                                            {{ interfaceResyncController.warningMessage }}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div data-ng-if="interfaceResyncController.CountMessage" class="m-t-5">
                            <div id="CountMessage" style="color: orangered;" class="p-2">
                                <span class="f-500" data-ng-if="interfaceResyncController.CountMessage">
                                    <i class="fa fa-close m-r-5" style="font-size:28px;color:red"></i>{{
                                    interfaceResyncController.CountMessage }}</span>
                            </div>
                        </div>

                        <div class="input-group" data-ng-if="interfaceResyncController.resync_retails==='2'"
                            style="float:left;">
                            <label class="maintenance-field-label">Vendor</label>
                            <div class="row form-group col-lg-12">
                                <div class="col-xs-10" style="padding-left: 5px;">
                                    <ui-select style="width: 350px;" items="interfaceResyncController.maintenanceObject"
                                        ng-click="interfaceResyncController.toggleDropdown()"
                                        ng-model="interfaceResyncController.selectedVendor" theme="select2"
                                        close-on-select="true"
                                        data-ng-change="interfaceResyncController.getCollections(interfaceResyncController.selectedVendor);">
                                        <ui-select-match style="width: 100%;" placeholder="Select Vendor">
                                            {{interfaceResyncController.selectedVendor.name}}
                                        </ui-select-match>
                                        <ui-select-choices
                                            repeat="vendor in allVendors | filterBy:['name'] : $select.search | limitTo: $select.search.length ? 100 : 100"
                                            style="border: 1px solid #d8d8d8;">
                                            <span class="m-r-10" ng-bind="vendor.name" title="Vendor"></span>
                                            <span ng-class="{'typeright':(vendor.name.length) <40}" class="text-muted"
                                                ng-bind="vendor.VendorType" title="Vendor Type"></span>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                        </div><br />

                        <div class="col-xs-12 d-flex text-danger"
                            style="float: left; margin-left: -10px;margin-top: 5px;white-space:nowrap;"
                            data-ng-if="interfaceResyncController.SKUError">
                            <span>{{interfaceResyncController.SKUError}}</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 p-0 m-t-5 box maintenanceworkspace maintenance-field-label"
                data-ng-if="(interfaceResyncController.resync_retails==='1'||interfaceResyncController.resync_retails==='0') && tab.isSet(1)">
                <div class="col-xs-12 f-16 panel-header">
                    <span class="f-700 main-header">SKU Details</span>
                </div>
                <div class="col-xs-12 p-10" data-ng-if="interfaceResyncController.searchedSKUList.length===0">
                    <span>No SKUs added to the queue.</span>
                </div>
                <div class="col-xs-12 p-10 panel-body" data-ng-if="interfaceResyncController.searchedSKUList.length>0">
                    <div class="col-xs-12 p-0 m-t-5" data-ng-repeat="sku in interfaceResyncController.searchedSKUList">
                        <button type="button"
                            class="m-t-5 pull-right c-firebrick f-500 cursor-pointer f-17 zmdi zmdi-delete zmdi-hc-fw bg-none border-none p-0 ng-isolate-scope"
                            ng-click="interfaceResyncController.DeleteSKUFromQueue(sku.id)">
                        </button>
                        <div class="d-flex flex-fill">
                            <div class="d-flex">
                                <img check-image class="img-responsive m-auto cursor-pointer" image-name="sku.svg"
                                    ng-src="{{sku.imgUrl}}" style="height:50px;width:50px;" />
                            </div>
                            <div class="m-l-5 p-l-5 p-r-5" style="flex:1;border-left: 1px solid #f5f5f5;line-height: 2">
                                <div class="col-xs-12">
                                    <div class="col-lg-8 p-l-0 cursor-pointer">
                                        <span class="c-gray">Description: </span>
                                        <span class="text-capitalize text-info f-700"
                                            title="{{sku.description}}">{{sku.description | truncate : 25}}</span>
                                    </div>
                                    <div class="col-lg-4 p-l-0">
                                        <span class="c-gray">Status: </span>
                                        <span
                                            ng-class="{'text-success f-500':sku.status==='Active' , 'text-warning f-300':sku.status==='Pending', 'text-primary f-300':sku.status==='Inactive','text-info f-300':sku.status==='Pending Inactive'}">{{sku.status}}</span>
                                    </div>
                                </div>
                                <div class="col-xs-12">
                                    <div class="col-lg-6 p-l-0">
                                        <span class="c-gray">SKU #: </span>
                                        <span title="SKU Number">{{sku.sku}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 p-0 m-t-5 box maintenanceworkspace maintenance-field-label"
                data-ng-if="interfaceResyncController.resync_retails==='2'">
                <div class="col-xs-12 f-16 panel-header">
                    <span class="f-700 main-header">Vendor Details</span>
                </div>
                <div class="col-xs-12 p-10" data-ng-if="!interfaceResyncController.vendorlist.length>0">
                    <span>No Vendors added to the queue.</span>
                </div>
                <div class="col-xs-12 p-10 panel-body" data-ng-if="interfaceResyncController.vendorlist.length>0">
                    <div class="col-xs-12 p-0 m-t-5"
                        data-ng-repeat="vendor in interfaceResyncController.vendorlist track by $index">
                        <button type="button"
                            class="m-t-5 pull-right c-firebrick f-500 cursor-pointer f-17 zmdi zmdi-delete zmdi-hc-fw bg-none border-none p-0 ng-isolate-scope"
                            ng-click="interfaceResyncController.DeletevendorFromQueue(vendor.id)">
                        </button>
                        <div class="d-flex flex-fill">
                            <div class="d-flex">
                                <img check-image class="img-responsive m-auto cursor-pointer" image-name="sku.svg"
                                    ng-src="{{vendor.imgUrl}}" style="height:50px;width:50px;" />
                            </div>
                            <div class="m-l-5 p-l-5 p-r-5" style="flex:1;border-left: 1px solid #f5f5f5;line-height: 2">
                                <div class="col-xs-12">
                                    <div class="col-lg-8 p-l-0 cursor-pointer">
                                        <span class="c-gray">Vendor Name : </span>
                                        <span class="text-capitalize text-info f-700"
                                            title="{{vendor.name}}">{{vendor.name |
                                            truncate : 25}}</span>
                                    </div>
                                    <div class="col-lg-4 p-l-0">
                                        <span class="c-gray">Status : </span>
                                        <span
                                            ng-class="{'text-success f-500':vendor.status==='Active' , 'text-warning f-300':vendor.status==='Pending', 'text-primary f-300':vendor.status==='Inactive','text-info f-300':vendor.status==='Pending Inactive'}">{{vendor.status}}</span>
                                    </div>
                                </div>
                                <div class="col-xs-12">
                                    <div class="col-lg-6 p-l-0">
                                        <span class="c-gray">Vendor Short Name : </span>
                                        <span data-ng-if="vendor.rms_vendor_short_name"
                                            title="Vendor short Name">{{vendor.rms_vendor_short_name}}</span>
                                        <span data-ng-if="!vendor.rms_vendor_short_name"
                                            title="Vendor short Name">N/A</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 m-t-10 m-b-30 p-0 maintenance-field-label">
                <div class="col-xs-6 p-0 pull-right d-flex">
                    <button id="executeButtonId" type="button"
                        ng-disabled="!(interfaceResyncController.skuIds.length>0 || interfaceResyncController.vendorlist.length>0) || interfaceResyncController.isResyncButtonDisabled || interfaceResyncController.isExecuting || interfaceResyncController.isExecuted"
                        class="btn btn-block btn-success f-700 m-l-5 m-t-0 waves-effect tabfocus-btn"
                        ng-click="interfaceResyncController.isResyncSkuOrRetails()">
                        <span data-ng-if="!interfaceResyncController.isExecuting">Resynchronize</span>
                        <span data-ng-if="interfaceResyncController.isExecuting">
                            <span class="fa fa-spin fa-spinner f-15 m-r-5"></span> Executing...
                        </span>
                    </button>
                </div>
                <div class="col-xs-6 d-flex col-xs-6 d-flex retail-success-msg text-success"
                    data-ng-if="interfaceResyncController.message">
                    <span>{{interfaceResyncController.message}}</span>
                </div>
                <div class="col-xs-6 d-flex col-xs-6 d-flex retail-error-msg text-danger"
                    data-ng-if="interfaceResyncController.error">
                    <span>{{interfaceResyncController.error}}</span>
                </div>
            </div>

        </ng-form>
    </div>

    <div class="col-xs-5 p-0">
        <div class="col-xs-12 p-0 mass-maintenance-detail-section">
            <div class="col-xs-12">
                <div class="col-xs-12 f-16 p-10 header-section bgm-white">
                    <h5 class="text-primary">Notes</h5>
                </div>
                <div class="col-xs-12 p-10 maintenance-field-label">
                    <div class="col-xs-12 p-10" style="background: #fafafa;border: 1px solid #dadada;">
                        <div class="col-xs-12">
                            <div>
                                Resynchronize Data in Retail calculus is maintained to
                                <span class="text-warning underline">resynchronize</span> the selected <b>SKU entity
                                    data</b> , <b>SKU retails</b> or <b>Vendors data</b> with the
                                AS400 data system.
                            </div>
                        </div>
                        <div class="col-xs-12 p-5 m-t-10">
                            <div class="p-l-10">
                                <small>
                                    Choose the entity (SKU/Retails/Vendors) that should be resynchronized.
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12 p-5">
                            <div class="p-l-10">
                                <small>
                                    Search the Entity Data (one or many) in the given search box.
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12 p-5">
                            <div class="p-l-10">
                                <small>
                                    Each SKU#/Vendor-name searched is added to the queue to resynchronize.
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12 p-5">
                            <div class="p-l-10">
                                <small>
                                    Execute the <b>Resynchronize</b> button, which would resynchronize existing data of
                                    all the SKUs/Vendors
                                    selected to AS400 systems.
                                </small>
                            </div>
                        </div>
                        <br />

                        <div class="col-xs-12">
                            <div class="p-l-11">
                                <b class="text-warning underline">Instructions for Uploading XLSX File:</b>
                            </div>
                        </div>

                        <div class="col-xs-12">
                            <div class="p-l-10">
                                <small>
                                    <b>Browse File:</b> Click on the "Browse" button to select the XLSX file.
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="p-l-10">
                                <small>
                                    <b>Excel Format Requirements:</b>
                                    The XLSX file should contain only one column labeled "SKU".
                                    The "SKU" column can be in uppercase or lowercase.
                                    SKU numbers should follow a specific format, ideally starting with a zero and
                                    separated by hyphens (-).However, it is optional.
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="p-l-10">
                                <small>
                                    <b>Fetch SKU's:</b>
                                    After uploading the XLSX file with the specified format, click on the "Fetch SKU's"
                                    button.
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="p-l-10">
                                <small>
                                    <b>Download icon for invalid SKU's:</b>
                                    Whenever you upload an Xlsx file and if it contains invalid SKU's,
                                    it shows the count of invalid SKU's with download icon (so that you can download
                                    only invalid SKU's) .
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="p-l-10">
                                <small>
                                    <b>Convert Excel format to text:</b>
                                    Open the Excel file, right-click on the SKU column, select 'Format Cells,' and then
                                    choose 'Text.'
                                    This ensures that the SKUs remain in the correct format.,
                                    So that it prevent SKUs like 0000-02 from being automatically converted to a date
                                    format (2000-02).
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="p-l-10">
                                <small>
                                    <b>Resynchronize:</b>
                                    Once SKU's are fetched, click on "Resynchronize" button to initiate the
                                    synchronization process.
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="p-l-11">
                                <b class="text-warning underline">Important:</b>
                                <ul>
                                    <li>You can upload a maximum of 200 SKUs at a time. If you have more than 200
                                        SKUs, please split them into separate files and upload them individually.
                                    </li>
                                    <li>Only include SKUs of types other than MTO (Made-to-Order) in your upload
                                        file.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="col-xs-12">
                            <div class="p-l-11">
                                <b class="text-warning underline">Instructions for Add SKU's By Effective Date:</b>
                            </div>
                            <ul>
                                <li>
                                    Please Select the <b>Effective Date</b>, then choose the multi-select Price Group(s)
                                    and set the Price Type to 'Sale Price' to resync the SKUs.
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 p-5 d-flex"
                data-ng-if="(interfaceResyncController.skuIds.length || interfaceResyncController.vendorlist.length) && interfaceResyncController.isExecuted===true">
                <div class="status-container">
                    <div data-ng-if="interfaceResyncController.skuIds.length>0" class="status-count passed">
                        {{interfaceResyncController.skuIds.length}}
                    </div>
                    <div data-ng-if="interfaceResyncController.vendorlist.length>0" class="status-count passed">
                        {{interfaceResyncController.vendorlist.length}}
                    </div>
                    <div class="status-label">
                        ReSynced
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>