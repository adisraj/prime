<style>
    .metadata-success-msg button#done_btn {
        display: none;
    }
    button:focus{
        outline: 5px auto #6ecaf6!important
    }
    
</style>
<link rel="stylesheet" href="./application/directives/datalake/metadata.css">

<div id="rcrightsidebar" data-ng-class="{'toggled':toggleMetaDataPanel === true}">
    <div class="col-xs-12 side-panel-name m-t-25">
        <button type="button" class="close-icon bg-none border-none btn-link p-0" data-ng-click="toggleMetaDataPanel = false;focusShowmetaData();notImage=false;">
            <span class="zmdi zmdi-long-arrow-right zmdi-hc-fw zmdi-hc-3x"></span>
        </button>
        <div class="panel-name-section" style="margin-left: -45px;">
            <label class="rclabel editformlabel" title="Department">Documents
                <strong>Details</strong>
            </label>
        </div>
    </div>
    <div class="col-xs-12 p-0">
        <div class="col-xs-12 p-0">
            <div class="col-xs-12" ng-if="!entityPermissions.drop" data-ng-include="'./application/templates/restricted.access.compact.html'"></div>
            <div class="col-xs-12 p-10" ng-if="entityPermissions.drop && !isSaveSuccess && !isDeleteSuccess">
                <div class="col-xs-12 p-0" data-ng-if1="!isUpload">
                    <div class="form-group">
                        <div class="d-flex m-b-10 m-t-10">
                            <div class="m-auto updatepanel">
                                <div data-ng-include="'./img/sidebar-icons/cloud.svg'"></div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between">
                            <div class1="col-xs-6 p-0" data-ng-if="learnImage && isDropUploaded && isImage">
                                <h4> Learn image properties </h4>
                            </div>
                            <div class="d-flex" data-ng-if="isDropUploaded">
                                <div class="m-r-10">
                                    <button type="button" class="btn btn-inverse m-r-5" data-ng-click="goBackFunction();">Back</button>
                                </div>
                                <div data-ng-if="isImage && learnImage">
                                    <button type="button" class="btn btn-primal" data-ng-click="learnImage();" ng-disabled="!learnImageBtn">Learn Image
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 p-0" data-ng-if="!isDropUploaded">
                        <ng-form name="datalake_form" role="form" novalidate="novalidate">
                            <div class="col-xs-12 p-0 rc-alert rc-alert-type-info m-b-10" aria-hidden="false" role="alert">
                                <div class="col-xs-12 p-5 d-flex">
                                    <span class="text-danger zmdi zmdi-alert-polygon" style="font-size:35px"
                                        title="Maintain Document" title-direction="right"
                                        fixed-position="true">
                                    </span>
                                    <div style="line-height: 1.7; margin-left: -10px;">
                                        <ul>
                                            <div class="f-14 f-700 text-info">Note</div>
                                            <li>
                                                Maximum size supported for file upload is <strong>60 MB</strong>.
                                            </li>
                                            <li data-ng-if="currenRoutePath.includes('/item/type')" style="color: firebrick">
                                                Once the item type
                                                report generated, please wait for <strong>5-10</strong>  minutes for the report to get prepared.
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 p-0 form-group">
                                <div class="col-xs-12 p-0">
                                    <div class="col-xs-12 p-0">
                                        <span class="c-red" ng-show="datalake_form.status.$invalid">* </span>
                                        <span class="c-green" ng-show="datalake_form.status.$valid">* </span>
                                        <label>Status</label>
                                    </div>
                                    <div class="col-xs-12 p-0 form-group d-flex m-b-15">
                                        <div ng-repeat="status in statusList">
                                            <div class="m-t-10 m-l-10" data-ng-init="status.isDefault ? details.status_id = status.id : ''">
                                                <label class="align-items-center d-flex m-r-15">
                                                    <input class="m-t-0" hidden="hidden" type="radio" name="status" id="{{$index}}-status-local" ng-model="details.status_id" value="{{status.id}}" required ng-checked="status.isDefault">
                                                    <i class="input-helper"></i>{{status.label}}
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-info text-center f-12 m-t-10 m-b-10" ng-if="loadingStreams">Loading streams...
                                    </div>
                                    <div class="text-info text-center f-12 m-t-10 m-b-10" ng-if="noStreams">No streams exists for selected lake</div>
                                    <div class="form-group" ng-if="details.lake_id && !loadingStreams">
                                        <span class="c-red" ng-show="datalake_form.stream_id.$invalid">* </span>
                                        <span class="c-green" ng-show="datalake_form.stream_id.$valid">* </span>
                                        <label>Stream</label>
                                        <select  id="stream_id" name="stream_id" ng-model="details.stream_id"
                                            class="form-control select-component input-sm tabfocus" ng-options="item.stream_id as item.stream for item in streams"
                                            data-ng-change="getLakeStreamLinkByIds(details.lake_id,details.stream_id);resetForm();changeStream()" data-ng-disabled="showConfirm"
                                            required>
                                            <option value="" disabled>Select Stream</option>
                                        </select>
                                        <div data-ng-if="thumbnailActive" class="m-t-5" >
                                            <div>
                                                <span class="c-red" data-ng-show="oneSequence||numberCannotExeed||conditionForEmpty">*</span>
                                                <span class="c-green" data-ng-show=" !oneSequence && !numberCannotExeed && !conditionForEmpty">*</span>
                                                <label >Sequence for thumbnail</label>
                                                <input type="number" id="display_sequence" name="display_sequence" data-ng-model="details.display_sequence" class="widthValues" min="0" pattern="\d*"  data-ng-change="changeSequenceNumber()" only-integer>

                                            </div>
                                            <span data-ng-if="numberCannotExeed" style="color: #e41708; padding-left: 150px; padding-top: 5px;">* Sequence number cannot exceed 300</span>
                                            <span data-ng-if="oneSequence" style="color: #e41708; padding-left: 140px; padding-top: 5px;">* Sequence number is reserved for cover_image thumbnail</span>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 p-0 d-flex" style="align-items:flex-end;">
                                        <div class="col-xs-12 p-0">
                                            <div class="">
                                                <div class="">
                                                    <span class="c-red" ng-show="datalake_form.match.$invalid">*
                                                    </span>
                                                    <span class="c-green" ng-show="datalake_form.match.$valid">*
                                                    </span>
                                                    <label>Source</label>
                                                </div>
                                                <div class="col-xs-12 p-0 form-group d-flex m-b-15">
                                                    <div class="m-t-10 m-l-10">
                                                        <label class="d-flex align-items-center">
                                                            <input class="m-t-0" hidden="hidden" type="radio" name="match" id="match-local" ng-model="details.regular_type" data-ng-change="resetForm();"
                                                                value="Local" required checked="true">
                                                            <i class="input-helper"></i>Upload from Local Computer
                                                        </label>
                                                    </div>
                                                    <div class="m-t-10 m-l-10">
                                                        <label class="d-flex align-items-center">
                                                            <input class="m-t-0" hidden="hidden" type="radio" name="match" id="match-url" ng-model="details.regular_type"
                                                             data-ng-change="resetForm();"
                                                                value="URL" required>
                                                            <i class="input-helper"></i>Upload from Internet
                                                        </label>
                                                    </div>
                                                    <div class="m-t-10 m-l-10">
                                                        <label class="d-flex align-items-center">
                                                            <input class="m-t-0" hidden="hidden" type="radio"
                                                             name="match" id="match-url" ng-model="details.regular_type"
                                                              data-ng-change="resetForm();" data-toggle="modal" 
                                                              data-ng-click="startDocCam()"
                                                              ng-disabled="!details.stream_id || (details.stream_id && [34, 39, 40 ,41].indexOf(details.stream_id) > -1)"
                                                              data-target="#myCamModal" data-backdrop="static" data-keyboard="false"
                                                                value="camera" required>
                                                            <i class="input-helper"></i>Upload from Camera
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 p-0 form-group" data-ng-if="isImage && files.length > 0" style="display: inline-flex;width: auto;flex-direction: column;">
                                                    <div class="p-10" style="border: 1px solid #e8e8e8;">
                                                        <img data-ng-if="details.regular_type=='Local'" ngf-src="files[0]" 
                                                         style="height:125px;width:125px;">
                                                         <img data-ng-if="details.regular_type=='camera' && link"
                                                          ng-src="{{link}}" style="height:125px;width:125px;" />
                                                        <img data-ng-if="imagePath" ng-src="{{imagePath}}" style="height:125px;width:125px;" />
                                                        <img data-ng-if="details.regular_type=='URL' && !(datalake_form.file.$invalid)" ng-src="{{details.url}}" style="height:125px;width:125px;"
                                                        />
                                                    </div>
                                                    <div class="d-flex" style="justify-content: space-between; align-items: flex-end;" ng-repeat="f in files">
                                                        <label class="c-gray f-300">{{f.type | truncate:40}}</label>
                                                        <label class="c-gray f-300">{{f.size}} kb</label>
                                                    </div>
                                                </div>
                                                <canvas hidden id="canvas" autoplay></canvas>
                                                <div class="col-xs-12 p-0" data-ng-if="details.regular_type=='Local'">
                                                    <div class="col-xs-12 p-0 m-t-10" data-ng-if="details.regular_type=='Local'" ng-repeat="f in files">
                                                        <div class="form-group">
                                                            <label>File Name</label>
                                                            <label name="filename" class="form-control input-sm" title="{{f.name}}" disabled required>{{f.name | truncate : 50}}</label>
                                                        </div>
                                                    </div>
                                                    <div class="text-danger p-b-10" data-ng-if="showAllowMultipleMessage">* Multiple Documents are not allowed</div>
                                                    <div class="text-danger p-b-10" data-ng-if="errFiles" data-ng-repeat="ef in errFiles">
                                                        <span data-nf-if="ef.$errorMessages && ef.$errorMessages.maxSize">
                                                            * {{ef.name}} exedes size limit {{ef.$errorParam}}
                                                        </span>
                                                    </div>
                                                    <button type="button" class="btn btn-primal btn-block f-700" name="update_title_btn" id="update_title_btn"
                                                        ng-disabled="!isBtnEnabled||oneSequence||numberCannotExeed||conditionForEmpty" ngf-select="selectFiles($files, $invalidFiles)" multiple accept="*" ngf-max-size="60MB">
                                                        <span data-ng-if="(!files || files.length < 1) && !showAllowMultipleMessage">Choose File(s)
                                                        </span>
                                                        <span data-ng-if="files.length >= 1 || showAllowMultipleMessage">Choose different File(s)</span>
                                                    </button>
                                                </div>
                                                <div class="col-xs-12 p-0" data-ng-if="details.regular_type=='URL'">
                                                    <div class="form-group">
                                                        <label>URL </label>
                                                        <input id="file" ng-bind="datas" name="file" ng-keyup="validateUrl(details.url)"
                                                            type="text" class="form-control input-sm" ng-model="details.url"
                                                            placeholder="Enter URL" 
                                                            required data-ng-change="imagePath=getDownloadUrl(details.drop_id,details,details.url);markItTrue();
                                                            ">
                                                    </div>
                                                    <span class="text-danger" ng-if="(datalake_form.file.$error.pattern && !datalake_form.file.$pristine) || invalidUrl">Invalid URL
                                                    </span>
                                                   
                                                </div>
                                                <span class="text-danger" ng-if="showCantMetaGen">Cannot convert the given url into file
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                           
                            <div class="col-lg-12 col-xs-12 p-0" data-ng-if="!showConfirm && (files.length>0 || details.url)&&!conditionForEmpty && !numberCannotExeed && !oneSequence && !notImage && !notImageUrl && !invalidUrl">
                                <div data-ng-if="details.url&&details.url.length>0" class="checkbox m-b-10">
                                    <label>
                                        <input type="checkbox" data-ng-model="details.is_save_to_document_store"
                                        data-ng-disabled="details.regular_type=='URL'"  ng-true-value=true ng-false-value=false>
                                        <i class="input-helper" data-ng-disabled="details.regular_type=='URL'" 
                                         ng-class="{'cursor-nt-al': details.regular_type=='URL'}" title="{{details.regular_type=='URL'? 'Saving to document store by default':''}}"
                                       
                                        
                                        ></i> Save to document store
                                    </label>
                                </div>
                                <label class="checkbox m-b-10 m-t-5" data-ng-if="details.stream_id == 33 && (files.length > 0 || details.url)">
                                    <input type="checkbox" data-ng-model="details.is_thumbnail" ng-true-value="1" ng-false-value="0">
                                    <i class="input-helper m-l-30"></i> Save as thumbnail
                                </label>
                                <div class="form-group">
                                    <rcp-edit-form-btns new-form="true" save-fn="checkMultipleDropsForStream(details);" save-btn-text="uploadBtnText" enable-button="datalake_form.$invalid || !isBtnEnabled || showAllowMultipleMessage || showCantMetaGen">
                                    </rcp-edit-form-btns>
                                    
                                </div>
                            </div>
                            <div class="text-danger p-b-10" data-ng-if="notImage">* Selected File is
                                not an image</div>
                                <div class="text-danger p-b-10 m-l-10" data-ng-if="notImageUrl">* URL is
                                    not an image</div>
                            <div class="col-lg-12 col-xs-12" data-ng-if="showConfirm" style="border: 1px solid lightgrey;box-shadow: 1px 1px 4px lightgrey;">
                                <div class="col-lg-12 p-10 col-xs-12">
                                    <span class="f-14">{{selectedLakeStream.lake}} lake and {{selectedLakeStream.stream}} stream doesn't allow
                                        multiple drops. If you proceed current drop will be replaced. Do you want to replace
                                        ?
                                    </span>
                                </div>
                                <div class="form-group pull-right">
                                    <button class="btn btn-block btn-success waves-effect f-700" ng-click="checkMultipleDropsForStream(details)" ng-disabled="datalake_form.$invalid || !isBtnEnabled">
                                        <span ng-if="!(datalake_form.$invalid || !isBtnEnabled)">Yes, Upload!</span>
                                        <span ng-if="datalake_form.$invalid || !isBtnEnabled">Uploading...</span>
                                    </button>
                                </div>
                                <div class="form-group pull-right m-r-5">
                                    <button class="btn btn-block btn-inverse waves-effect f-700" data-ng-click="gotoUploadForm();">
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </ng-form>
                    </div>
                    <!-- Section for image preview start -->
                    <div class="col-xs-12 p-0" data-ng-if="isDropUploaded && isImage">
                        <div class="col-xs-12 p-0 form-group">
                            <div class="col-xs-6 form-group p-0">
                                <h4 class="f-700" style="color: #8c8c8c;">Preview </h4>
                                <div class="col-xs-12 p-0 text-center">
                                    <div class="d-flex" ng-repeat="f in files">
                                        <img ng-src="{{ files[0].name && files[0].name.startsWith('http') ? files[0].name : files[0].$ngfBlobUrl }}" style="height:150px;width:150px;">
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="col-xs-6" data-ng-show="!image_data && !learnImageBtn">
                                <div class="text-center">
                                    <img ng-src="./img/loading.gif" alt="" width="50%;">
                                    <p class="text-center f-16">Learning...</p>
                                </div>
                            </div> -->
                            <div class="col-xs-6" data-ng-show="image_data">
                                <div>
                                    <h4 class="col-xs-12 p-0 f-700" style="color: #8c8c8c;">Dominant Colors</h4>
                                    <div class="col-xs-12 p-0 form-group" style="height:150px;border:1px solid #e8e8e8">
                                        <div data-ng-repeat="c in image_data.image.properties.dominantColors.colors" class="inheritheight pull-left" ng-style="{'background-color':'rgb('+c.color.red+','+c.color.green+','+c.color.blue+')','width': c.score*100+'%'}"
                                            data-ng-mouseover="showColor(c);">
                                        </div>
                                    </div>
                                    <div class="col-xs-12 p-0" data-ng-if="cinfo">
                                        <span class="c-black">Color</span>
                                        <span class="f-300">{{cinfo.hexColor}}</span>
                                        <span class="c-black"> Percentage:</span>
                                        <span class="f-300">{{cinfo.score*100 | DecimalPrecision:2}}%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 p-0 form-group" data-ng-show="image_data">
                            <h4 class="col-xs-12 p-0 c-black form-group">
                                <span class="col-xs-9 f-700" style="color: #8c8c8c;">Labels</span>
                            </h4>
                            <div class="col-xs-12 p-0  d-flex" style="align-items:center" data-ng-repeat="label in image_data.labels">
                                <div class="col-xs-9">
                                    <span class="c-black" style="text-transform:capitalize">{{label.description}}
                                        <span class="c-gray"> ({{(label.score*100) |DecimalPrecision:2 }}%)</span>
                                    </span>
                                    <uib-progressbar class="m-t-5 m-b-15" value="label.score*100" type="success">
                                    </uib-progressbar>
                                </div>
                                <div class="col-xs-3 text-center">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" value="label" ng-model="label.checked" data-ng-change="updatecheckbox(label);">
                                            <i class="input-helper"></i>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Section for image preview end -->
                </div>
                <div>
                    <div class="col-xs-12 p-0 m-t-10" data-ng-if="isShowImages === true">
                        <div class="col-xs-12 p-0">
                            <div class="col-xs-12 p-0 text-center" data-ng-if="isLoadingDrops">
                                <i class="text-info">Loading drops...</i>
                            </div>
                            <div class=" col-lg-12 p-0 m-b-5" data-ng-if="!isLoadingDrops" ng-repeat="gdrop in drops | groupBy:'stream'">
                            
                                    <button type="button" class="col-lg-12 p-10 cursor-pointer meta-data-groupheader text-left border-none" ng-class="{'uncollapsed':streamState[gdrop[0]['stream_id']]}"
                                        ng-click="toggleDrops(gdrop[0]);focusDownloadField();">
                                        <span class="f-13 c-white f-700">
                                            {{gdrop[0].stream}}
                                        </span>
                                    </button>
                                <div class="col-lg-12 p-0 o-auto" style="max-height:320px;">
                                    <div class="col-lg-12 p-5" ng-if="streamState[gdrop[0]['stream_id']]" data-ng-repeat="drop in gdrop | orderBy:'sequence'">
                                        <div class="col-xs-12 d-flex p-0" style="align-items: center;box-shadow: 0px 0px 1px #6b6b6b;flex-direction: column;">
                                            <div class="d-flex full-width p-0">
                                                <div class="m-r-5">
                                                    <a href="" data-ng-click="$showMetaDatapanel = false;" title="Preview Image">
                                                        <img class="img-responsive" style="width:50px;" src="./img/XLS.png" ng-if="drop.kind=='xlsx'" data-ng-click="previewDatalake(drop,drop.stream_code)"
                                                        />
                                                        <img class="img-responsive" style="width:50px;" src="./img/PDF.png" ng-if="drop.kind=='application/pdf'" data-ng-click="previewDatalake(drop,drop.stream_code)"
                                                        />
                                                        <img class="img-responsive" style="width:75px;height:75px;" ng-src="{{imagePath}}" ng-if="drop.kind=='image/png'||drop.url!==null"
                                                            ng-init="imagePath=getDownloadUrl(drop.drop_id,drop.drop_type,drop.url)"
                                                            data-ng-click="previewDatalake(drop,drop.stream_code)" />
                                                        <img class="img-responsive" style="width:75px;height:75px;" ng-src="{{imagePath}}" ng-if="(drop.kind=='image/jpeg' || drop.kind=='image/bmp') && !drop.url"
                                                            ng-init="imagePath=getDownloadUrl(drop.drop_id,drop.drop_type,drop.url)"
                                                            data-ng-click="previewDatalake(drop,drop.stream_code)" />
                                                        <img class="img-responsive" style="width:75px;" ng-src="{{imagePath}}" ng-if="drop.kind=='application/octet-stream'" ng-init="imagePath=getDownloadUrl(drop.drop_id,drop.drop_type,drop.url)"
                                                            data-ng-click="previewDatalake(drop,drop.stream_code)" />
                                                        <img class="img-responsive" style="width:50px;" src="./img/video_icon.png" ng-if="drop.kind.includes('video')" ng-init="imagePath=getDownloadUrl(drop.drop_id,drop.drop_type,drop.url)"
                                                            data-ng-click="previewDatalake(drop,drop.stream_code)" />
                                                    </a>
                                                </div>
                                                <div class="p-5">
                                                    <a class="cursor-pointer" data-ng-click="previewDatalake(drop,drop.stream_code)">
                                                        <span class="f-15 c-black f-700" title="{{drop.file_name}}" data-ng-if="drop.file_name">{{(drop.file_name | truncate :30) }}
                                                        </span>
                                                        <span class="text-info f-15 c-black f-700" title="{{drop.url}}" ng-if="drop.url && !drop.file_name" title="{{drop.url}}">{{(drop.url | truncate :35 )}}</span>
                                                    </a>
                                                    <div class="d-flex d-flex-v-center flex-column" style="align-items:flex-start;">
                                                        <span class="f-13 f-300">{{drop.kind || "External file"}}</span>
                                                        <span class="f-13 f-300">{{drop.size/1024 | DecimalPrecision:1}} KB
                                                        </span>
                                                    </div>
                                                 
                                                </div>
                                            </div>
                                            <div class="col-xs-12 d-flex d-flex-v-center" style="padding: 7px 3px;border-top: 1px solid #f3f3f3;
                                            background: linear-gradient(#ffffff,#f7f7f7);">
                                                <div class="d-flex align-items-center">
                                                    <button type="button" id="doc_download" name="doc_download" class="d-flex align-items-center btn btn-link btn-sm m-r-0 p-0"
                                                     title="Download" data-ng-if="!drop.url" style="border:0px;"
                                                        ng-disabled="isDeleting" data-ng-click="downloadFile(drop.drop_id, drop.file_name, drop);">
                                                        <span class="zmdi zmdi-download zmdi-hc-fw text-info f-16"></span>
                                                        <div class="text-info f-11">Download</div>
                                                    </button>
                                                    <button type="button" id="doc_download" name="doc_download" class="d-flex align-items-center btn btn-link btn-sm m-r-0 p-0" title="External documents cannot be downloaded"
                                                        data-ng-if="drop.url" style="border:0px;" ng-disabled="true">
                                                        <span class="zmdi zmdi-download zmdi-hc-fw text-info f-16"></span>
                                                        <div class="text-info f-11">Download</div>
                                                    </button>
                                                    <button type="button" class="bg-none d-flex align-items-center cursor-pointer m-r-9" title="Delete" style="border:0px;" ng-disabled="isDeleting" data-ng-click="confirmRemoveDrop(drop)">
                                                        <span class="zmdi zmdi-delete zmdi-hc-fw text-danger f-14"></span>
                                                        <div class="text-info f-11">Remove</div>
                                                    </button>
                                                    <button type="button" class="bg-none d-flex align-items-center cursor-pointer" title="Save as Cover Image" style="border:0px;" 
                                                    data-ng-if="drop.stream.toLowerCase() == 'thumbnail' && !drop.is_thumbnailImage && drop.stream_id ==1 && enableSaveCoverBtn"
                                                    ng-disabled="isDeleting" data-ng-click="setCoverImage(1,drop.drop_id)">
                                                        <span class="zmdi zmdi-square-o zmdi-hc-fw bg-none border-none p-0 f-17"></span>
                                                        <div class="text-info f-11">Save as Cover Image</div>
                                                    </button>
                                                    <div title="{{drop.sequence == 1 || drop.is_coverImage?'Cover image thumbnail sequence is fixed':'Click to edit sequence'}}" data-ng-if="drop.stream.toLowerCase() == 'thumbnail'" id="{{drop.drop_id}}" class="backing" data-ng-click="editItem(drop)"   data-ng-if="drop.stream.toLowerCase() == 'thumbnail'" style="background-color: transparent;border-style: none;padding: 0; cursor: pointer;">
                                                        <div  class="text-info f-11 margin_left">Sequence: </div>
                                                        <span data-ng-hide="drop.editDocSequence" >{{drop.sequence}}</span>
                                                        <input data-ng-class="sequenceChangeError?'borders':null" id="inputSequence" data-ng-show="drop.editDocSequence"  data-ng-model="drop.sequence" min="2" max="300" style="width: 50px;margin: 2px;" only-integer-three data-ng-change="validationHandle(drop,drops)"click-outside="doneEditing(drop)"/>
                                                    </div>
                                                    <div ng-if="drop.url&&drop.url.length>0" class="checkbox m-l-10" style="align-items:flex-start;">
                                                        <label data-ng-if="!drop.is_coverImage" class="f-11" style="padding-left: 22px;">
                                                            <input type="checkbox" data-ng-disabled="details.is_save_to_document_store===true || drop.url&&drop.url.length>0" data-ng-model="drop.is_save_to_document_store"
                                                                data-ng-click="addToDocumentStore(drop)" ng-true-value=true ng-false-value=false>
                                                            <i class="input-helper" data-ng-disabled="drop.url&&drop.url.length>0" ng-class="{'cursor-nt-al':drop.url&&drop.url.length>0}" 
                                                            title="{{drop.url&&drop.url.length>0 ? 'Saving to document store by default':''}}"></i> Save to document store
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 m-t-10" data-ng-if="showConfirmDeletion && drop.stream.toLowerCase() == 'cover image' && !drop.is_thumbnailImage" style="border: 1px solid lightgrey;box-shadow: 1px 1px 4px lightgrey;">
                                                <div class="col-lg-12 p-10">
                                                    <span class="f-14">Removing cover image will remove the same from thumbnail. Do you want
                                                        to delete ?
                                                    </span>
                                                </div>
                                                <div class="form-group pull-right">
                                                    <button class="btn btn-block btn-success waves-effect f-700" ng-click="removeDrop(drop)">
                                                        Yes, Delete!
                                                    </button>
                                                </div>
                                                <div class="form-group pull-right m-r-5">
                                                    <button class="btn btn-block btn-inverse waves-effect f-700" data-ng-click="gotoUploadForm();">
                                                        Cancel
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 m-t-10" data-ng-if="showConfirmThumbnailDeletion && drop.stream.toLowerCase() == 'thumbnail' && drop.is_thumbnailImage" style="border: 1px solid lightgrey;box-shadow: 1px 1px 4px lightgrey;">
                                                <div class="col-lg-12 p-10">
                                                    <span class="f-14">Removing thumbnail will remove the same from cover image. Do you want
                                                        to delete ?
                                                    </span>
                                                </div>
                                                <div class="form-group pull-right">
                                                    <button class="btn btn-block btn-success waves-effect f-700" ng-click="removeDrop(drop)">
                                                        Yes, Delete!
                                                    </button>
                                                </div>
                                                <div class="form-group pull-right m-r-5">
                                                    <button class="btn btn-block btn-inverse waves-effect f-700" data-ng-click="gotoUploadForm();">
                                                        Cancel
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div style="color: #e41708; font-weight: 700; text-align: center; "  data-ng-if="sequenceChangeError && gdrop[0].stream === 'Thumbnail' && drop.drop_id == getChange_id" class="text-danger">{{errorInvolve}}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 p-0 text-center" data-ng-if="drops.length === 0 && !isLoadingDrops">
                                <label class="text-info">No document exist</label>
                            </div>
                        </div>
                        <div class="text-info text-center f-12" ng-if="isDeleting">Deleting drop...</div>
                    </div>
                </div>
                <div class="col-xs-12 p-0" data-ng-if="message||error">
                    <div data-ng-if="message&&message.length>0" class="alert alert-success alert-dismissable">
                        <button type="button" class="close" data-ng-click="showmessage('showSuccessAlert')" aria-hidden="true">&times;</button>{{message}}
                    </div>
                    <div data-ng-if="error&&error.length>0" class="alert alert-danger alert-dismissable">
                        <button type="button" class="close" data-ng-click="showmessage('showSuccessAlert')" aria-hidden="true">&times;</button>
                        {{error}}
                    </div>
                </div>
            </div>
            <div class="col-xs-12 metadata-success-msg">
                <rcp-success-form success-tick="success_tick.svg" upload-success="isSaveSuccess" delete-success="isDeleteSuccess"></rcp-success-form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myCamModal" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"
               data-ng-click="closeDocCam()">&times;</button>
              <h4 class="modal-title" style="text-align:center">Capture Photo</h4>
            </div>
            <div class="modal-body">
                <div style="text-align:center">
                    <video id="docvideo" width="400" height="300" autoplay></video>
                </div>
                <button id="doctakeSnap" class="btn bgm-ocean center-block"
                data-dismiss="modal" data-ng-disabled="oneSequence||numberCannotExeed||conditionForEmpty"
                 style="width:130px; margin-top:10px; margin-bottom:10px; margin-left:75%"
                    data-ng-click="onClickDocSnap();">Take Photo
                </button>
                
            </div>
          </div>
        </div>
    </div>
</div>
